(()=>{var e={};e.id=2238,e.ids=[2238],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57147:e=>{"use strict";e.exports=require("fs")},71017:e=>{"use strict";e.exports=require("path")},36911:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c});var a=s(7),r=s(8533),n=s(29377),i=s.n(n),l=s(29799),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["(admin-portal)",{children:["admin",{children:["cms",{children:["legal",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,23013)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\(admin-portal)\\admin\\cms\\legal\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,76654)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\(admin-portal)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,73472,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,63341)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\layout.tsx"],template:[()=>Promise.resolve().then(s.bind(s,2400)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\template.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,73472,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\(admin-portal)\\admin\\cms\\legal\\page.tsx"],m="/(admin-portal)/admin/cms/legal/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(admin-portal)/admin/cms/legal/page",pathname:"/admin/cms/legal",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},52799:(e,t,s)=>{Promise.resolve().then(s.bind(s,77748))},77748:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(54714),r=s(77580),n=s(71321),i=s(44914),l=s(77672),o=s(11671),c=s(85491);function d(){let[e,t]=(0,r.useState)(!0),[s,d]=(0,r.useState)([]);async function m(){try{let e=await (0,n.s0)();d(e)}catch(e){c.toast.error("Failed to load documents")}finally{t(!1)}}(0,r.useEffect)(()=>{m()},[]);let p=async e=>{let t=await (0,n.yz)(e);return t.success&&d(t=>t.filter(t=>t.id!==e)),t};return e?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsx(o.Z,{className:"w-8 h-8 animate-spin text-primary"})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Legal Documents"}),a.jsx("p",{className:"text-slate-500",children:"Manage privacy policy, terms, and waivers."})]}),a.jsx(i.CollectionList,{schema:l.O.legal_document,items:s,onDelete:p,basePath:"/admin/cms/legal",titleField:"title",subtitleField:"document_type"})]})}},35073:(e,t,s)=>{"use strict";s.r(t),s.d(t,{PermissionGate:()=>n});var a=s(54714),r=s(77580);function n({entity:e,action:t,children:s,fallback:n}){let{hasAccess:i,loading:l}=function(e,t){let[s,a]=(0,r.useState)(!1),[n,i]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async function(){try{let s=await fetch("/api/admin/session");if(!s.ok)throw Error("Failed to fetch session");let r=await s.json();if(r?.permissions){let s=r.permissions.some(s=>s===`${e}:*`||s===`${e}:${t}`||"*:*"===s);a(s)}}catch{a(!1)}finally{i(!1)}})()},[e,t]),{hasAccess:s,loading:n}}(e,t);return l?null:i?a.jsx(a.Fragment,{children:s}):n||null}},44914:(e,t,s)=>{"use strict";s.r(t),s.d(t,{CollectionList:()=>u});var a=s(54714);s(77580);var r=s(29872),n=s(20155),i=s(65717),l=s(54275),o=s(88387),c=s(961),d=s(35073),m=s(57801),p=s(85491),x=s(51500);function u({title:e,description:t,items:s,schema:u,basePath:h,onDelete:y,titleField:f,subtitleField:j,imageField:g,showBackButton:v=!0,viewOnly:k=!1}){let b=(0,m.useRouter)(),w=async e=>{confirm("Are you sure you want to delete this item?")&&y&&((await y(e)).success?(p.toast.success("Item deleted"),b.refresh()):p.toast.error("Failed to delete item"))},N=u.fields.filter(e=>"json_list"!==e.type&&"rich_text"!==e.type).slice(0,5);return(0,a.jsxs)("div",{className:"space-y-6",children:[v&&a.jsx(c.L,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:e}),a.jsx("p",{className:"text-slate-500",children:t})]}),!k&&a.jsx(d.PermissionGate,{entity:"cms",action:"write",children:(0,a.jsxs)(r.default,{href:`${h}/new`,className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium",children:[a.jsx(n.Z,{className:"w-4 h-4"}),"New ",u.name]})})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,a.jsxs)("tr",{children:[N.map(e=>a.jsx("th",{className:"px-6 py-3 font-medium text-slate-500",children:e.label},e.name)),a.jsx("th",{className:"px-6 py-3 font-medium text-slate-500 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:0===s.length?a.jsx("tr",{children:a.jsx("td",{colSpan:N.length+1,className:"px-6 py-8 text-center text-slate-500",children:"No items found. Create one to get started."})}):s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[N.map(t=>a.jsx("td",{className:"px-6 py-4 text-slate-600",children:"image"===t.type?a.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-lg overflow-hidden",children:a.jsx("img",{src:(0,x.j)(e[t.name]),alt:"",className:"w-full h-full object-cover"})}):"boolean"===t.type?a.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${e[t.name]?"bg-emerald-50 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:e[t.name]?"Active":"Inactive"}):a.jsx("span",{className:"truncate max-w-xs block",title:String(e[t.name]),children:"textarea"===t.type&&e[t.name]?.length>50?e[t.name].substring(0,50)+"...":e[t.name]})},t.name)),a.jsx("td",{className:"px-6 py-4 text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(d.PermissionGate,{entity:"cms",action:"write",children:a.jsx(r.default,{href:`${h}/${e.id}`,className:"p-2 text-slate-400 hover:text-primary hover:bg-primary/5 rounded-lg transition-colors",title:k?"View Details":"Edit",children:k?a.jsx(i.Z,{className:"w-4 h-4"}):a.jsx(l.Z,{className:"w-4 h-4"})})}),y&&a.jsx(d.PermissionGate,{entity:"cms",action:"delete",children:a.jsx("button",{onClick:()=>w(e.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(o.Z,{className:"w-4 h-4"})})})]})})]},e.id))})]})})]})}},65717:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(59858).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},54275:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(59858).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},88387:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(59858).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},23013:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>i});let a=(0,s(71481).createProxy)(String.raw`C:\Users\saksa\OneDrive\Desktop\yoyopark\ninjainflatablepark11\park1\frontend\app\(admin-portal)\admin\cms\legal\page.tsx`),{__esModule:r,$$typeof:n}=a,i=a.default}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[3499,4854,7157,8931,109,534,6270,5643,5491,2885,412,6866,1985,6655,8652,1957],()=>s(36911));module.exports=a})();