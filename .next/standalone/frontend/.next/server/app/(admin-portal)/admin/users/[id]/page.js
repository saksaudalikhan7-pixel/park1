(()=>{var e={};e.id=9329,e.ids=[9329],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57147:e=>{"use strict";e.exports=require("fs")},71017:e=>{"use strict";e.exports=require("path")},45742:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o});var r=a(7),t=a(8533),n=a(29377),i=a.n(n),l=a(29799),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);a.d(s,d);let o=["",{children:["(admin-portal)",{children:["admin",{children:["users",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,58441)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\(admin-portal)\\admin\\users\\[id]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,76654)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\(admin-portal)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,73472,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,63341)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\layout.tsx"],template:[()=>Promise.resolve().then(a.bind(a,2400)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\template.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,73472,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\(admin-portal)\\admin\\users\\[id]\\page.tsx"],m="/(admin-portal)/admin/users/[id]/page",p={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/(admin-portal)/admin/users/[id]/page",pathname:"/admin/users/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},87994:(e,s,a)=>{Promise.resolve().then(a.bind(a,24817)),Promise.resolve().then(a.t.bind(a,10921,23))},24817:(e,s,a)=>{"use strict";a.r(s),a.d(s,{AdminUserForm:()=>m});var r=a(54714),t=a(77580),n=a(57801),i=a(37266),l=a(88387),d=a(11671),o=a(21124),c=a(29872);function m({user:e,roles:s,isNew:a=!1}){let m=(0,n.useRouter)(),[p,u]=(0,t.useState)(!1),[x,b]=(0,t.useState)(null),f=async s=>{s.preventDefault(),u(!0),b(null);let r=new FormData(s.currentTarget),t={name:r.get("name"),email:r.get("email"),roleId:r.get("roleId"),password:r.get("password"),isActive:"on"===r.get("isActive")};try{if(a){if(!t.password)throw Error("Password is required for new users");await (0,i.em)({name:t.name,email:t.email,password:t.password,roleId:t.roleId})}else{if(!e)return;await (0,i.vr)(e.id,{name:t.name,email:t.email,role:t.roleId,isActive:t.isActive,password:t.password||void 0})}m.push("/admin/users"),m.refresh()}catch(e){b(e.message||"Something went wrong")}finally{u(!1)}},h=async()=>{if(e&&confirm("Are you sure you want to delete this user? This action cannot be undone.")){u(!0);try{await (0,i.Er)(e.id),m.push("/admin/users"),m.refresh()}catch(e){b(e.message||"Failed to delete user"),u(!1)}}};return(0,r.jsxs)("form",{onSubmit:f,className:"max-w-2xl",children:[x&&r.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:x}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-slate-200",children:r.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"User Details"})}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),r.jsx("input",{name:"name",type:"text",defaultValue:e?.name,required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none text-slate-900"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),r.jsx("input",{name:"email",type:"email",defaultValue:e?.email,required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none text-slate-900"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),(0,r.jsxs)("select",{name:"roleId",defaultValue:e?.roleId||"",required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none text-slate-900",children:[r.jsx("option",{value:"",disabled:!0,children:"Select a role"}),s.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," - ",e.description]},e.id))]})]}),a&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Password"}),r.jsx("input",{name:"password",type:"password",required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none text-slate-900"}),r.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Must be at least 8 characters"})]}),!a&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"isActive",id:"isActive",defaultChecked:e?.isActive,className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),r.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-slate-700",children:"Active Account"})]})]}),(0,r.jsxs)("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex justify-between items-center",children:[!a&&(0,r.jsxs)("button",{type:"button",onClick:h,disabled:p,className:"flex items-center gap-2 text-red-600 hover:text-red-700 font-medium text-sm px-4 py-2 rounded-lg hover:bg-red-50 transition-colors",children:[r.jsx(l.Z,{size:18}),"Delete User"]}),(0,r.jsxs)("div",{className:"flex gap-3 ml-auto",children:[r.jsx(c.default,{href:"/admin/users",className:"px-4 py-2 text-slate-700 font-medium hover:bg-slate-200 rounded-lg transition-colors",children:"Cancel"}),(0,r.jsxs)("button",{type:"submit",disabled:p,className:"flex items-center gap-2 bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:[p?r.jsx(d.Z,{size:18,className:"animate-spin"}):r.jsx(o.Z,{size:18}),a?"Create User":"Save Changes"]})]})]})]})]})}},37266:(e,s,a)=>{"use strict";a.d(s,{Er:()=>t,F3:()=>i,em:()=>n,vr:()=>l}),a(28892);var r=a(15537),t=(0,r.$)("e0f7e8ef85b80d51b7a28434e99562c3b8b78ac6");(0,r.$)("abc054a54e1a54f96f857eb358023759cd51646a"),(0,r.$)("acb17c59490a5833bb0cfdeac14b294c3cdb5b13"),(0,r.$)("7fba0989ee3b3ad0f736ae770c2c2eefa4f59925"),(0,r.$)("382c63593dab880114efbd6b44d4ad16aac6d766"),(0,r.$)("2bde0d4eaad8d2dcd8bfb513a36ff672d5274552"),(0,r.$)("20b323b0191bf3ab54887de04aa00718faf9137b");var n=(0,r.$)("bcefca22750c094c3c40ea313e2a09c701e6cdd1"),i=(0,r.$)("e755d6728d12960dee78e6e96c846619e9919634");(0,r.$)("62d9f324707f14aa2ed45f5cd29f3713a5a77a82");var l=(0,r.$)("1ef95a51ceb61d3dee1740d90cec0539ecf84207")},11671:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(59858).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},21124:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(59858).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},88387:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(59858).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},58441:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var r=a(40657),t=a(45795),n=a(53209),i=a(78931),l=a(71481);let d=(0,l.createProxy)(String.raw`C:\Users\saksa\OneDrive\Desktop\yoyopark\ninjainflatablepark11\park1\frontend\app\(admin-portal)\admin\components\AdminUserForm.tsx`),{__esModule:o,$$typeof:c}=d;d.default;let m=(0,l.createProxy)(String.raw`C:\Users\saksa\OneDrive\Desktop\yoyopark\ninjainflatablepark11\park1\frontend\app\(admin-portal)\admin\components\AdminUserForm.tsx#AdminUserForm`);var p=a(18935),u=a(94277);async function x({params:e}){await (0,n.y)()||(0,i.redirect)("/admin/login");let[s,a]=await Promise.all([(0,t.getAdminUser)(e.id),(0,t.getRoles)()]);return s||(0,i.notFound)(),(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)(p.default,{href:"/admin/users",className:"inline-flex items-center gap-2 text-slate-500 hover:text-slate-900 mb-4 transition-colors",children:[r.jsx(u.Z,{size:16}),"Back to Users"]}),r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Edit User"}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Manage user details and permissions"})]}),r.jsx(m,{user:s,roles:a})]})}},94277:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(5598).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}};var s=require("../../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[3499,4854,7157,8931,109,534,6270,5643,5491,2885,412,6866,5469,8883,1985,6655,618],()=>a(45742));module.exports=r})();