(()=>{var e={};e.id=8791,e.ids=[8791],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57147:e=>{"use strict";e.exports=require("fs")},71017:e=>{"use strict";e.exports=require("path")},40216:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>f,tree:()=>c});var n=a(7),s=a(8533),i=a(29377),r=a.n(i),o=a(29799),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let c=["",{children:["(admin-portal)",{children:["admin",{children:["invitation-templates",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,50042)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\(admin-portal)\\admin\\invitation-templates\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,76654)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\(admin-portal)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,73472,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,63341)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\layout.tsx"],template:[()=>Promise.resolve().then(a.bind(a,2400)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\template.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,73472,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\(admin-portal)\\admin\\invitation-templates\\page.tsx"],p="/(admin-portal)/admin/invitation-templates/page",m={require:a,loadChunk:()=>Promise.resolve()},f=new n.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(admin-portal)/admin/invitation-templates/page",pathname:"/admin/invitation-templates",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},73784:(e,t,a)=>{let n={"39af9c8a150fea3c92c70413f968e670749439e6":()=>Promise.resolve().then(a.bind(a,88244)).then(e=>e.createInvitationTemplate),"3fbacc693036abe246b01efb3ca2dbf7692aa06d":()=>Promise.resolve().then(a.bind(a,88244)).then(e=>e.getInvitationTemplates),"5f6846a1a963af1164135037ef6443813c293529":()=>Promise.resolve().then(a.bind(a,88244)).then(e=>e.updateInvitationTemplate),"941498169eda49bf447057e2930d38404473986d":()=>Promise.resolve().then(a.bind(a,88244)).then(e=>e.getInvitationTemplate),b0f99d0142a5d8e475d580c755909090e3fe1119:()=>Promise.resolve().then(a.bind(a,88244)).then(e=>e.deleteInvitationTemplate)};async function s(e,...t){return(await n[e]()).apply(null,t)}e.exports={"39af9c8a150fea3c92c70413f968e670749439e6":s.bind(null,"39af9c8a150fea3c92c70413f968e670749439e6"),"3fbacc693036abe246b01efb3ca2dbf7692aa06d":s.bind(null,"3fbacc693036abe246b01efb3ca2dbf7692aa06d"),"5f6846a1a963af1164135037ef6443813c293529":s.bind(null,"5f6846a1a963af1164135037ef6443813c293529"),"941498169eda49bf447057e2930d38404473986d":s.bind(null,"941498169eda49bf447057e2930d38404473986d"),b0f99d0142a5d8e475d580c755909090e3fe1119:s.bind(null,"b0f99d0142a5d8e475d580c755909090e3fe1119")}},53806:(e,t,a)=>{Promise.resolve().then(a.bind(a,35073)),Promise.resolve().then(a.t.bind(a,10921,23))},35073:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PermissionGate:()=>i});var n=a(54714),s=a(77580);function i({entity:e,action:t,children:a,fallback:i}){let{hasAccess:r,loading:o}=function(e,t){let[a,n]=(0,s.useState)(!1),[i,r]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async function(){try{let a=await fetch("/api/admin/session");if(!a.ok)throw Error("Failed to fetch session");let s=await a.json();if(s?.permissions){let a=s.permissions.some(a=>a===`${e}:*`||a===`${e}:${t}`||"*:*"===a);n(a)}}catch{n(!1)}finally{r(!1)}})()},[e,t]),{hasAccess:a,loading:i}}(e,t);return o?null:r?n.jsx(n.Fragment,{children:a}):i||null}},50042:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(40657),s=a(88244),i=a(99167),r=a(51962),o=a(18935),l=a(19913);async function c(){let e=await (0,s.getInvitationTemplates)();return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Invitation Templates"}),n.jsx("p",{className:"text-slate-500",children:"Manage digital invitation templates for bookings"})]}),n.jsx(l.j,{entity:"cms",action:"write",children:(0,n.jsxs)(o.default,{href:"/admin/invitation-templates/new",className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium",children:[n.jsx(i.Z,{className:"w-4 h-4"}),"New Template"]})})]}),n.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:(0,n.jsxs)("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,n.jsxs)("tr",{children:[n.jsx("th",{className:"px-6 py-3 font-medium text-slate-500",children:"Image"}),n.jsx("th",{className:"px-6 py-3 font-medium text-slate-500",children:"Name"}),n.jsx("th",{className:"px-6 py-3 font-medium text-slate-500",children:"Status"}),n.jsx("th",{className:"px-6 py-3 font-medium text-slate-500 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:0===e.length?n.jsx("tr",{children:n.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-slate-500",children:"No templates found. Create one to get started."})}):e.map(e=>(0,n.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"w-24 h-16 bg-slate-100 rounded-lg overflow-hidden relative",children:n.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover"})})}),n.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:e.name}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${e.active?"bg-emerald-50 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:e.active?"Active":"Inactive"})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsx(l.j,{entity:"cms",action:"write",children:n.jsx(o.default,{href:`/admin/invitation-templates/${e.id}`,className:"inline-flex p-2 text-slate-400 hover:text-primary hover:bg-primary/5 rounded-lg transition-colors",children:n.jsx(r.Z,{className:"w-4 h-4"})})})})]},e.id))})]})})]})}},88244:(e,t,a)=>{"use strict";a.r(t),a.d(t,{createInvitationTemplate:()=>c,deleteInvitationTemplate:()=>p,getInvitationTemplate:()=>l,getInvitationTemplates:()=>o,updateInvitationTemplate:()=>d});var n=a(40878);a(81389);var s=a(45509),i=a(53209),r=a(98883);async function o(){await (0,i.Q)("cms","read");let e=await (0,s.Io)("/invitations/templates/");return e.ok?await e.json():[]}async function l(e){await (0,i.Q)("cms","read");let t=await (0,s.Io)(`/invitations/templates/${e}/`);return t.ok?await t.json():null}async function c(e){for(let[t,a]of(console.log("=== SERVER ACTION: createInvitationTemplate ==="),await (0,i.Q)("cms","write"),console.log("Permission check passed"),console.log("FormData contents:"),e.entries()))a instanceof File?console.log(`  ${t}: File(${a.name}, ${a.size} bytes)`):console.log(`  ${t}: ${a}`);let t=await (0,s.Io)("/invitations/templates/",{method:"POST",body:e});if(console.log("API Response status:",t.status),console.log("API Response ok:",t.ok),t.ok)return console.log("Success! Created template:",await t.json()),(0,r.revalidatePath)("/admin/invitations"),{success:!0};let a=await t.json();throw console.error("API Error:",a),Error(a.detail||"Failed to create template")}async function d(e,t){await (0,i.Q)("cms","write");let a=await (0,s.Io)(`/invitations/templates/${e}/`,{method:"PATCH",body:t});if(a.ok)return(0,r.revalidatePath)("/admin/invitations"),(0,r.revalidatePath)(`/admin/invitations/${e}`),{success:!0};throw Error((await a.json()).detail||"Failed to update template")}async function p(e){await (0,i.Q)("cms","delete");let t=await (0,s.Io)(`/invitations/templates/${e}/`,{method:"DELETE"});if(t.ok)return(0,r.revalidatePath)("/admin/invitations"),{success:!0};throw Error((await t.json()).detail||"Failed to delete template")}(0,a(40656).h)([o,l,c,d,p]),(0,n.U)("3fbacc693036abe246b01efb3ca2dbf7692aa06d",o),(0,n.U)("941498169eda49bf447057e2930d38404473986d",l),(0,n.U)("39af9c8a150fea3c92c70413f968e670749439e6",c),(0,n.U)("5f6846a1a963af1164135037ef6443813c293529",d),(0,n.U)("b0f99d0142a5d8e475d580c755909090e3fe1119",p)},45509:(e,t,a)=>{"use strict";a.d(t,{Io:()=>r,Y8:()=>c,l8:()=>o,xV:()=>l});var n=a(77157);let s="http://localhost:8000/api/v1".replace("localhost","127.0.0.1");function i(){let e=n.cookies().get("admin_token")?.value;return e?{Authorization:`Bearer ${e}`}:{}}async function r(e,t={}){let a={...i()};t.body instanceof FormData||(a["Content-Type"]="application/json"),t.headers&&Object.assign(a,t.headers);let n=new AbortController,r=setTimeout(()=>n.abort(),6e4);try{let i=await fetch(`${s}${e}`,{...t,headers:a,cache:"no-store",signal:n.signal});return clearTimeout(r),i}catch(t){throw clearTimeout(r),console.error(`[Fetch Failed] URL: ${s}${e}`,t),t}}async function o(e,t){let a={"Content-Type":"application/json",...i()},n=await fetch(`${s}${e}`,{method:"POST",headers:a,body:JSON.stringify(t),cache:"no-store"});return 401===n.status?null:n.json()}async function l(e,t){let a={"Content-Type":"application/json",...i()},n=await fetch(`${s}${e}`,{method:"PUT",headers:a,body:JSON.stringify(t),cache:"no-store"});return 401===n.status?null:n.json()}async function c(e){let t={"Content-Type":"application/json",...i()},a=await fetch(`${s}${e}`,{method:"DELETE",headers:t,cache:"no-store"});return 401===a.status?null:204===a.status}},19913:(e,t,a)=>{"use strict";a.d(t,{j:()=>o});var n=a(71481);let s=(0,n.createProxy)(String.raw`C:\Users\saksa\OneDrive\Desktop\yoyopark\ninjainflatablepark11\park1\frontend\components\PermissionGate.tsx`),{__esModule:i,$$typeof:r}=s;s.default;let o=(0,n.createProxy)(String.raw`C:\Users\saksa\OneDrive\Desktop\yoyopark\ninjainflatablepark11\park1\frontend\components\PermissionGate.tsx#PermissionGate`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),n=t.X(0,[3499,4854,7157,8931,109,534,6270,5643,5491,2885,412,6866,5469,8883,1985,6655,9863],()=>a(40216));module.exports=n})();