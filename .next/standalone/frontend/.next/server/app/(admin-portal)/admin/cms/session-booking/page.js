(()=>{var e={};e.id=2517,e.ids=[2517],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57147:e=>{"use strict";e.exports=require("fs")},71017:e=>{"use strict";e.exports=require("path")},99501:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(7),a=s(8533),i=s(29377),l=s.n(i),n=s(29799),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["(admin-portal)",{children:["admin",{children:["cms",{children:["session-booking",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,65168)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\(admin-portal)\\admin\\cms\\session-booking\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,76654)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\(admin-portal)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,73472,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,63341)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\layout.tsx"],template:[()=>Promise.resolve().then(s.bind(s,2400)),"C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\template.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,73472,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\saksa\\OneDrive\\Desktop\\yoyopark\\ninjainflatablepark11\\park1\\frontend\\app\\(admin-portal)\\admin\\cms\\session-booking\\page.tsx"],p="/(admin-portal)/admin/cms/session-booking/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(admin-portal)/admin/cms/session-booking/page",pathname:"/admin/cms/session-booking",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},70096:(e,t,s)=>{Promise.resolve().then(s.bind(s,46274)),Promise.resolve().then(s.t.bind(s,10921,23))},46274:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(54714),a=s(77580),i=s(96379),l=s(19863),n=s(52570),o=s(11671),d=s(72264),c=s(21124);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,s(59858).Z)("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]);var m=s(85491),u=s(15727);let x=[{key:"step-1",label:"Step 1: Session Selection",defaultTitle:"Select Session",defaultSubtitle:"Choose your preferred date, time and duration"},{key:"step-2",label:"Step 2: Guests",defaultTitle:"Select Guests",defaultSubtitle:"Choose the number of jumpers and spectators"},{key:"step-3",label:"Step 3: Details",defaultTitle:"Your Details",defaultSubtitle:"We'll send your booking confirmation here"},{key:"step-5",label:"Step 5: Payment",defaultTitle:"Summary & Payment",defaultSubtitle:"Review your booking details"}],b=n.Ryn({title:n.Z_8().min(1,"Title is required"),subtitle:n.Z_8().optional()}),g=n.Ryn({adult_price:n.Rxh().min(0,"Price must be positive"),adult_label:n.Z_8().min(1,"Label is required"),adult_description:n.Z_8().min(1,"Description is required"),kid_price:n.Rxh().min(0,"Price must be positive"),kid_label:n.Z_8().min(1,"Label is required"),kid_description:n.Z_8().min(1,"Description is required"),spectator_price:n.Rxh().min(0,"Price must be positive"),spectator_label:n.Z_8().min(1,"Label is required"),spectator_description:n.Z_8().min(1,"Description is required"),gst_rate:n.Rxh().min(0).max(100,"GST must be between 0-100%"),duration_label:n.Z_8().min(1,"Label is required"),duration_description:n.Z_8().min(1,"Description is required")});function f(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[l,n]=(0,a.useState)(null),[d,c]=(0,a.useState)(null),[p,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{g(),f()},[]);let g=async()=>{try{let e=await (0,u.Zy)("booking-session");t(e)}catch(e){console.error("Failed to load sections",e),m.toast.error("Failed to load content")}finally{i(!1)}},f=async()=>{try{let e=await fetch("http://localhost:8000/api/v1/cms/session-booking-config/1/"),t=await e.json();c(t)}catch(e){console.error("Failed to load pricing config",e)}},j=async(t,s)=>{n(t);try{let r=e.find(e=>e.section_key===t);r?await (0,u.WQ)(r.id,{...r,title:s.title,subtitle:s.subtitle||""}):await (0,u.eh)({page:"booking-session",section_key:t,title:s.title,subtitle:s.subtitle||"",active:!0,order:0,content:"",image_url:"",video_url:"",cta_text:"",cta_link:""}),await g(),m.toast.success("Section updated successfully")}catch(e){console.error("Failed to save section",e),m.toast.error("Failed to save changes")}finally{n(null)}},_=async e=>{b(!0);try{if(!(await fetch("http://localhost:8000/api/v1/cms/session-booking-config/1/",{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})).ok)throw Error("Failed to update pricing");await f(),m.toast.success("Pricing configuration updated successfully")}catch(e){console.error("Failed to save pricing",e),m.toast.error("Failed to save pricing configuration")}finally{b(!1)}};return s||!d?r.jsx("div",{className:"flex items-center justify-center p-12",children:r.jsx(o.Z,{className:"w-8 h-8 animate-spin text-primary"})}):(0,r.jsxs)("div",{className:"space-y-8 max-w-4xl",children:[r.jsx(h,{initialData:d,isSaving:p,onSave:_}),(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[r.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Step Titles & Subtitles"}),r.jsx("div",{className:"space-y-6",children:x.map(t=>{let s=e.find(e=>e.section_key===t.key);return r.jsx(y,{step:t,initialData:s,isSaving:l===t.key,onSave:e=>j(t.key,e)},t.key)})})]})]})}function h({initialData:e,isSaving:t,onSave:s}){let{register:a,handleSubmit:n,formState:{errors:p}}=(0,i.cI)({resolver:(0,l.F)(g),defaultValues:{adult_price:parseFloat(e?.adult_price)||899,adult_label:e?.adult_label||"Ninja Warrior (7+ Years)",adult_description:e?.adult_description||"₹ 899 + GST per person",kid_price:parseFloat(e?.kid_price)||500,kid_label:e?.kid_label||"Little Ninjas (1-7 Years)",kid_description:e?.kid_description||"₹ 500 + GST per person",spectator_price:parseFloat(e?.spectator_price)||150,spectator_label:e?.spectator_label||"Spectators",spectator_description:e?.spectator_description||"₹ 150 + GST per person",gst_rate:parseFloat(e?.gst_rate)||18,duration_label:e?.duration_label||"60 Minutes",duration_description:e?.duration_description||"Standard Session"}});return(0,r.jsxs)("form",{onSubmit:n(s),className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-slate-100 bg-gradient-to-r from-emerald-50 to-blue-50 flex justify-between items-center",children:(0,r.jsxs)("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[r.jsx(d.Z,{className:"w-5 h-5 text-emerald-600"}),"Pricing & Categories Configuration"]})}),(0,r.jsxs)("div",{className:"p-6 space-y-8",children:[(0,r.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-slate-800 mb-4",children:"Adult Category"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Label"}),r.jsx("input",{...a("adult_label"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. Ninja Warrior (7+ Years)"}),p.adult_label&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.adult_label.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Price (₹)"}),r.jsx("input",{type:"number",step:"0.01",...a("adult_price",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none"}),p.adult_price&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.adult_price.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),r.jsx("input",{...a("adult_description"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. ₹ 899 + GST per person"}),p.adult_description&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.adult_description.message})]})]})]}),(0,r.jsxs)("div",{className:"border-l-4 border-purple-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-slate-800 mb-4",children:"Kid Category"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Label"}),r.jsx("input",{...a("kid_label"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. Little Ninjas (1-7 Years)"}),p.kid_label&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.kid_label.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Price (₹)"}),r.jsx("input",{type:"number",step:"0.01",...a("kid_price",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none"}),p.kid_price&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.kid_price.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),r.jsx("input",{...a("kid_description"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. ₹ 500 + GST per person"}),p.kid_description&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.kid_description.message})]})]})]}),(0,r.jsxs)("div",{className:"border-l-4 border-amber-500 pl-4",children:[r.jsx("h4",{className:"font-semibold text-slate-800 mb-4",children:"Spectator Category"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Label"}),r.jsx("input",{...a("spectator_label"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. Spectators"}),p.spectator_label&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.spectator_label.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Price (₹)"}),r.jsx("input",{type:"number",step:"0.01",...a("spectator_price",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none"}),p.spectator_price&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.spectator_price.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),r.jsx("input",{...a("spectator_description"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. ₹ 150 + GST per person"}),p.spectator_description&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.spectator_description.message})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-4 border-t border-slate-200",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"GST Rate (%)"}),r.jsx("input",{type:"number",step:"0.01",...a("gst_rate",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. 18"}),p.gst_rate&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.gst_rate.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Duration Label"}),r.jsx("input",{...a("duration_label"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. 60 Minutes"}),p.duration_label&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.duration_label.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Duration Description"}),r.jsx("input",{...a("duration_description"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. Standard Session"}),p.duration_description&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:p.duration_description.message})]})]})]}),r.jsx("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-100 flex justify-end",children:(0,r.jsxs)("button",{type:"submit",disabled:t,className:"flex items-center gap-2 px-6 py-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-all text-sm font-medium disabled:opacity-50 shadow-sm",children:[t?r.jsx(o.Z,{className:"w-4 h-4 animate-spin"}):r.jsx(c.Z,{className:"w-4 h-4"}),"Save Pricing Configuration"]})})]})}function y({step:e,initialData:t,isSaving:s,onSave:a}){let{register:n,handleSubmit:d,formState:{errors:m}}=(0,i.cI)({resolver:(0,l.F)(b),defaultValues:{title:t?.title||e.defaultTitle,subtitle:t?.subtitle||e.defaultSubtitle}});return(0,r.jsxs)("form",{onSubmit:d(a),className:"bg-slate-50 rounded-lg border border-slate-200 p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("h4",{className:"font-medium text-slate-700 text-sm flex items-center gap-2",children:[r.jsx(p,{className:"w-3.5 h-3.5 text-slate-400"}),e.label]}),(0,r.jsxs)("button",{type:"submit",disabled:s,className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-900 text-white rounded-md hover:bg-slate-800 transition-all text-xs font-medium disabled:opacity-50",children:[s?r.jsx(o.Z,{className:"w-3 h-3 animate-spin"}):r.jsx(c.Z,{className:"w-3 h-3"}),"Save"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Title"}),r.jsx("input",{...n("title"),className:"w-full px-3 py-1.5 text-sm border border-slate-200 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. Select Session"}),m.title&&r.jsx("p",{className:"text-red-500 text-xs mt-1",children:m.title.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Subtitle"}),r.jsx("input",{...n("subtitle"),className:"w-full px-3 py-1.5 text-sm border border-slate-200 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. Choose your preferred date..."})]})]})]})}},65168:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(40657),a=s(53209),i=s(78931),l=s(48172);let n=(0,s(71481).createProxy)(String.raw`C:\Users\saksa\OneDrive\Desktop\yoyopark\ninjainflatablepark11\park1\frontend\app\(admin-portal)\admin\cms\session-booking\components\SessionBookingEditor.tsx`),{__esModule:o,$$typeof:d}=n,c=n.default;async function p(){return await (0,a.y)()||(0,i.redirect)("/admin/login"),(0,r.jsxs)("div",{className:"p-8",children:[r.jsx(l.L,{href:"/admin/cms",label:"Back to CMS Dashboard"}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Session Booking Content"}),r.jsx("p",{className:"text-slate-500 mt-1",children:"Manage content for the session booking steps"})]}),r.jsx(c,{})]})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[3499,4854,7157,8931,109,534,6270,5643,5491,2885,412,6866,2824,1985,6655,6758],()=>s(99501));module.exports=r})();