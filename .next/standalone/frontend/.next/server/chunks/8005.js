exports.id=8005,exports.ids=[8005],exports.modules={2369:(e,a,t)=>{let o={"022d8cab0ebd51fd7c8a2bab806d3d4081ce9d79":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.restorePartyBooking),"1fd1315d0d4a637cca24d5b73b78ca7b795fce82":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.updateCustomerDetails),"22a10893c5718c944fe761dd831251f93e6775b9":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getBookings),"2788aa0878a99d77f68402e20b59c6532ded18d2":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.resendPartyBookingEmail),"2c1b655d510f2e8986beb1470bcf39e720b610dc":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.deletePartyBooking),"345a0d40e1b94dbe0fc6f20521428d743ae8e74b":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getCustomerById),"37874dfd2fc4b6f0ee28c02a735d876d4ab315a3":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getBookingById),"49bd40b69d563dfe5ff617908e276df71ebdbc54":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getCustomers),"53044355be2ec2dc177c7e7b8b16323e311f0326":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.updatePartyBookingStatus),"5391122b95e0d787d35c0b389b61ae3052c8ce42":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.createBookingBlock),"5d158ae087a84dea77f3a7115cc49824ff3c841b":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getWaiverById),"6121403de3ce7671509162f28a52f7b4eaeff528":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getDashboardStats),"71442caae190626eedb233beee8e6e8c9c396109":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getWaivers),"72bf0c3115ace700fdbe92609e40ef727f6e2e9a":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.updateBooking),"781eabc081078ba07c5dca2961dfd5174f61ad5c":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.loginAdmin),"7d8a09a290318f0dfb4c32d4ead6e3b2326b11ce":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.updatePartyBooking),"8d547064179501ce1ea4649e478fbf49e6473b19":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.deleteBooking),"91669db3d44938b80c2051708c62dd895de08312":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.deleteBookingBlock),"92eec72f6cda029d68ffc5f7747cf878f62592f6":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.toggleBookingArrival),"93d6bd79e2305e9fa4e391db0cd1ffb488369a1d":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.updateBookingStatus),"95a1b74108874a48ee8788e023fb227f64dbda91":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.updateWaiverMinors),"9cf94cfdb457087ba9f825e010e297fa11b3c2c8":()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getBookingBlocks),b065149b1f592078e3633999bfc44b4507d24cd2:()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.restoreSessionBooking),b8bf2dc29fa3626f10e6027121c5728fbfc0abd6:()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getPartyBookings),bbfa2f626c0ce2d9495a71bb6fbdd62c712f6d1d:()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getSessionBookingHistory),c00f3eee56aa6d980d28786a353ddb302062907e:()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.toggleWaiverVerification),c80f1a1c040ba7c09b4c27c71fb39116e2823b2a:()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getSessionBookings),c85fddc17f48c7e5e41cfa5391d110e4e65cbe50:()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getPartyBookingById),d0fb7859064b83124c23362f1eaba7c07d92a01a:()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getPartyBookingHistory),d5f1ecc7b99ddd36607b07794a41de699d232d70:()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.verifyWaiver),d92b4b48651b0207f49bc42ae575077cdec3e411:()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.getAllBookings),e426f40152b2e033cca9effa52511ce12b949d52:()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.updateBookingDetails),e46e056505ba9c21e65755fe78e4d9e136f86362:()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.logoutAdmin),e57dc804520282bb2373ffdcde17e74d9b9c1c84:()=>Promise.resolve().then(t.bind(t,96871)).then(e=>e.updateBookingBlock)};async function n(e,...a){return(await o[e]()).apply(null,a)}e.exports={"022d8cab0ebd51fd7c8a2bab806d3d4081ce9d79":n.bind(null,"022d8cab0ebd51fd7c8a2bab806d3d4081ce9d79"),"1fd1315d0d4a637cca24d5b73b78ca7b795fce82":n.bind(null,"1fd1315d0d4a637cca24d5b73b78ca7b795fce82"),"22a10893c5718c944fe761dd831251f93e6775b9":n.bind(null,"22a10893c5718c944fe761dd831251f93e6775b9"),"2788aa0878a99d77f68402e20b59c6532ded18d2":n.bind(null,"2788aa0878a99d77f68402e20b59c6532ded18d2"),"2c1b655d510f2e8986beb1470bcf39e720b610dc":n.bind(null,"2c1b655d510f2e8986beb1470bcf39e720b610dc"),"345a0d40e1b94dbe0fc6f20521428d743ae8e74b":n.bind(null,"345a0d40e1b94dbe0fc6f20521428d743ae8e74b"),"37874dfd2fc4b6f0ee28c02a735d876d4ab315a3":n.bind(null,"37874dfd2fc4b6f0ee28c02a735d876d4ab315a3"),"49bd40b69d563dfe5ff617908e276df71ebdbc54":n.bind(null,"49bd40b69d563dfe5ff617908e276df71ebdbc54"),"53044355be2ec2dc177c7e7b8b16323e311f0326":n.bind(null,"53044355be2ec2dc177c7e7b8b16323e311f0326"),"5391122b95e0d787d35c0b389b61ae3052c8ce42":n.bind(null,"5391122b95e0d787d35c0b389b61ae3052c8ce42"),"5d158ae087a84dea77f3a7115cc49824ff3c841b":n.bind(null,"5d158ae087a84dea77f3a7115cc49824ff3c841b"),"6121403de3ce7671509162f28a52f7b4eaeff528":n.bind(null,"6121403de3ce7671509162f28a52f7b4eaeff528"),"71442caae190626eedb233beee8e6e8c9c396109":n.bind(null,"71442caae190626eedb233beee8e6e8c9c396109"),"72bf0c3115ace700fdbe92609e40ef727f6e2e9a":n.bind(null,"72bf0c3115ace700fdbe92609e40ef727f6e2e9a"),"781eabc081078ba07c5dca2961dfd5174f61ad5c":n.bind(null,"781eabc081078ba07c5dca2961dfd5174f61ad5c"),"7d8a09a290318f0dfb4c32d4ead6e3b2326b11ce":n.bind(null,"7d8a09a290318f0dfb4c32d4ead6e3b2326b11ce"),"8d547064179501ce1ea4649e478fbf49e6473b19":n.bind(null,"8d547064179501ce1ea4649e478fbf49e6473b19"),"91669db3d44938b80c2051708c62dd895de08312":n.bind(null,"91669db3d44938b80c2051708c62dd895de08312"),"92eec72f6cda029d68ffc5f7747cf878f62592f6":n.bind(null,"92eec72f6cda029d68ffc5f7747cf878f62592f6"),"93d6bd79e2305e9fa4e391db0cd1ffb488369a1d":n.bind(null,"93d6bd79e2305e9fa4e391db0cd1ffb488369a1d"),"95a1b74108874a48ee8788e023fb227f64dbda91":n.bind(null,"95a1b74108874a48ee8788e023fb227f64dbda91"),"9cf94cfdb457087ba9f825e010e297fa11b3c2c8":n.bind(null,"9cf94cfdb457087ba9f825e010e297fa11b3c2c8"),b065149b1f592078e3633999bfc44b4507d24cd2:n.bind(null,"b065149b1f592078e3633999bfc44b4507d24cd2"),b8bf2dc29fa3626f10e6027121c5728fbfc0abd6:n.bind(null,"b8bf2dc29fa3626f10e6027121c5728fbfc0abd6"),bbfa2f626c0ce2d9495a71bb6fbdd62c712f6d1d:n.bind(null,"bbfa2f626c0ce2d9495a71bb6fbdd62c712f6d1d"),c00f3eee56aa6d980d28786a353ddb302062907e:n.bind(null,"c00f3eee56aa6d980d28786a353ddb302062907e"),c80f1a1c040ba7c09b4c27c71fb39116e2823b2a:n.bind(null,"c80f1a1c040ba7c09b4c27c71fb39116e2823b2a"),c85fddc17f48c7e5e41cfa5391d110e4e65cbe50:n.bind(null,"c85fddc17f48c7e5e41cfa5391d110e4e65cbe50"),d0fb7859064b83124c23362f1eaba7c07d92a01a:n.bind(null,"d0fb7859064b83124c23362f1eaba7c07d92a01a"),d5f1ecc7b99ddd36607b07794a41de699d232d70:n.bind(null,"d5f1ecc7b99ddd36607b07794a41de699d232d70"),d92b4b48651b0207f49bc42ae575077cdec3e411:n.bind(null,"d92b4b48651b0207f49bc42ae575077cdec3e411"),e426f40152b2e033cca9effa52511ce12b949d52:n.bind(null,"e426f40152b2e033cca9effa52511ce12b949d52"),e46e056505ba9c21e65755fe78e4d9e136f86362:n.bind(null,"e46e056505ba9c21e65755fe78e4d9e136f86362"),e57dc804520282bb2373ffdcde17e74d9b9c1c84:n.bind(null,"e57dc804520282bb2373ffdcde17e74d9b9c1c84")}},96871:(e,a,t)=>{"use strict";t.r(a),t.d(a,{createBookingBlock:()=>L,deleteBooking:()=>I,deleteBookingBlock:()=>F,deletePartyBooking:()=>_,getAllBookings:()=>m,getBookingBlocks:()=>R,getBookingById:()=>U,getBookings:()=>y,getCustomerById:()=>D,getCustomers:()=>O,getDashboardStats:()=>h,getPartyBookingById:()=>v,getPartyBookingHistory:()=>M,getPartyBookings:()=>p,getSessionBookingHistory:()=>H,getSessionBookings:()=>S,getWaiverById:()=>x,getWaivers:()=>C,loginAdmin:()=>g,logoutAdmin:()=>k,resendPartyBookingEmail:()=>w,restorePartyBooking:()=>V,restoreSessionBooking:()=>G,toggleBookingArrival:()=>J,toggleWaiverVerification:()=>E,updateBooking:()=>c,updateBookingBlock:()=>W,updateBookingDetails:()=>A,updateBookingStatus:()=>$,updateCustomerDetails:()=>N,updatePartyBooking:()=>B,updatePartyBookingStatus:()=>P,updateWaiverMinors:()=>j,verifyWaiver:()=>T});var o=t(40878);t(81389);var n=t(77157),d=t(98883),i=t(78931),r=t(45509),s=t(40656);async function c(e,a){try{let t=await (0,r.Io)(`/bookings/bookings/${e}/`,{method:"PATCH",body:JSON.stringify(a)});if(!t||!t.ok){let e=await t.json().catch(()=>({}));return{success:!1,error:e.detail||"Failed to update booking"}}return(0,d.revalidatePath)("/admin/bookings"),(0,d.revalidatePath)(`/admin/bookings/${e}`),{success:!0}}catch(e){return console.error("Update booking error:",e),{success:!1,error:"Failed to connect to server"}}}function b(e){if(!e)return null;let a=e.customer_details?f(e.customer_details):null;return{...e,bookingStatus:e.booking_status||e.status,waiverStatus:e.waiver_status,paymentStatus:e.payment_status,createdAt:e.created_at,updatedAt:e.updated_at,voucherCode:e.voucher_code,discountAmount:e.discount_amount,packageName:e.package_name,birthdayChildName:e.birthday_child_name,birthdayChildAge:e.birthday_child_age,waiverSigned:e.waiver_signed,waiverSignedAt:e.waiver_signed_at,waiverIpAddress:e.waiver_ip_address,customerName:e.name||a?.name||null,customerEmail:a?.email||e.email||null,customerPhone:a?.phone||e.phone||null,customer:a,waivers:e.waivers?.map(l)||[],transactions:e.transactions||[],duration:e.duration||120,spectators:e.spectators||0}}function f(e){return e?{...e,createdAt:e.created_at,updatedAt:e.updated_at,_count:e._count||{bookings:0}}:null}function l(e){return e?{...e,signedAt:e.signed_at,fileUrl:e.file_url,emergencyContact:e.emergency_contact,minors:e.minors||[],adults:e.adults||[],isPrimarySigner:e.is_primary_signer,participantType:e.participant_type,isVerified:e.is_verified,booking:e.booking_details?b(e.booking_details):null}:null}function u(e){return e?{...e,startDate:e.start_date,endDate:e.end_date,createdAt:e.created_at,updatedAt:e.updated_at}:null}async function g(e){let a=e.get("email"),t=e.get("password");if(!a||!t)return{error:"Email and password are required"};let o="http://127.0.0.1:8000/api/token/";console.log("[Login Debug] Force Target URL:",o);try{let e=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,username:a,password:t}),cache:"no-store"});if(!e.ok){let a=await e.text();return console.error("[Login Debug] Failed response:",e.status,a),{error:`Login failed: ${e.status} ${e.statusText}`}}let d=(await e.json()).access;(0,n.cookies)().set("admin_token",d,{httpOnly:!0,secure:!0,maxAge:604800,path:"/",sameSite:"lax"}),console.log("[Login Debug] Cookie set successfully, redirecting to /admin")}catch(e){return console.error("Login error:",e),{error:`Connection error: ${e.message}`}}(0,i.redirect)("/admin")}async function k(){(0,n.cookies)().delete("admin_token"),(0,i.redirect)("/admin/login")}async function h(){let e=await (0,r.Io)("/core/dashboard/stats/");if(!e||!e.ok)throw Error("Unauthorized or Failed to fetch stats");return await e.json()}async function m(e){try{let a=new URLSearchParams;e?.type&&a.append("type",e.type),e?.status&&a.append("status",e.status),e?.search&&a.append("search",e.search);let t=await (0,r.Io)(`/core/dashboard/all_bookings/?${a.toString()}`);if(!t||!t.ok)return console.error("Failed to fetch bookings:",t?.status,t?.statusText),[];return(await t.json()).results||[]}catch(e){return console.error("Error fetching all bookings:",e),[]}}async function y(e){let a=new URLSearchParams;a.append("ordering","-created_at"),e?.status&&a.append("booking_status",e.status),e?.date&&a.append("date",e.date),e?.search&&a.append("search",e.search);let t=await (0,r.Io)(`/bookings/bookings/?${a.toString()}`);return t&&t.ok?(await t.json()).map(b):[]}async function p(e){let a=new URLSearchParams;a.append("ordering","-created_at"),e?.status&&a.append("status",e.status),e?.date&&a.append("date",e.date),e?.search&&a.append("search",e.search);let t=await (0,r.Io)(`/bookings/party-bookings/?${a.toString()}`);return t&&t.ok?(await t.json()).map(b):[]}async function v(e){let a=await (0,r.Io)(`/bookings/party-bookings/${e}/`);return a&&a.ok?b(await a.json()):null}async function P(e,a){let t=await (0,r.Io)(`/bookings/party-bookings/${e}/`,{method:"PATCH",body:JSON.stringify({booking_status:a})});t&&t.ok&&((0,d.revalidatePath)("/admin/party-bookings"),(0,d.revalidatePath)(`/admin/party-bookings/${e}`))}async function _(e){let a=await (0,r.Io)(`/bookings/party-bookings/${e}/`,{method:"DELETE"});return a&&a.ok&&(0,d.revalidatePath)("/admin/party-bookings"),a?.ok}async function w(e){let a=await (0,r.Io)(`/bookings/party-bookings/${e}/resend_confirmation_email/`,{method:"POST"});return a&&a.ok?{success:!0,message:(await a.json()).message}:{success:!1,message:"Failed to send email"}}async function B(e,a){let t=await (0,r.Io)(`/bookings/party-bookings/${e}/`,{method:"PATCH",body:JSON.stringify(a)});return t&&t.ok?((0,d.revalidatePath)("/admin/party-bookings"),(0,d.revalidatePath)(`/admin/party-bookings/${e}`),{success:!0}):{success:!1,error:(await t?.json().catch(()=>({}))).detail||"Failed to update booking"}}async function S(e){let a=new URLSearchParams;a.append("type","SESSION"),a.append("ordering","-created_at"),e?.status&&a.append("status",e.status),e?.date&&a.append("date",e.date),e?.search&&a.append("search",e.search),console.log("[DEBUG] getSessionBookings - Request URL:",`/bookings/bookings/?${a.toString()}`);let t=await (0,r.Io)(`/bookings/bookings/?${a.toString()}`);if(console.log("[DEBUG] getSessionBookings - Response status:",t?.status),console.log("[DEBUG] getSessionBookings - Response ok:",t?.ok),!t||!t.ok)return console.log("[DEBUG] getSessionBookings - Response not OK, returning empty array"),[];let o=await t.json();return console.log("[DEBUG] getSessionBookings - Response data:",o),console.log("[DEBUG] getSessionBookings - Data length:",o?.length),o.map(b)}async function $(e,a){let t=await (0,r.Io)(`/bookings/bookings/${e}/`,{method:"PATCH",body:JSON.stringify({booking_status:a})});t&&t.ok&&((0,d.revalidatePath)("/admin/bookings"),(0,d.revalidatePath)(`/admin/bookings/${e}`))}async function I(e){let a=await (0,r.Io)(`/bookings/bookings/${e}/`,{method:"DELETE"});return a&&a.ok&&(0,d.revalidatePath)("/admin/bookings"),a?.ok}async function A(e,a){let t=await (0,r.Io)(`/bookings/bookings/${e}/`,{method:"PATCH",body:JSON.stringify(a)});t&&t.ok&&((0,d.revalidatePath)("/admin/bookings"),(0,d.revalidatePath)(`/admin/bookings/${e}`))}async function U(e){let a=await (0,r.Io)(`/bookings/bookings/${e}/`);return a&&a.ok?b(await a.json()):null}async function T(e){let a=await (0,r.Io)(`/bookings/waivers/${e}/`,{method:"PATCH",body:JSON.stringify({is_verified:!0})});return a&&a.ok?((0,d.revalidatePath)("/admin/waivers"),{success:!0}):{success:!1}}async function E(e,a){let t=await (0,r.Io)(`/bookings/waivers/${e}/`,{method:"PATCH",body:JSON.stringify({is_verified:a})});if(t&&t.ok)return(0,d.revalidatePath)("/admin/waivers"),{success:!0};let o="Failed to update status";if(t){let e=await t.text();console.error(`toggleWaiverVerification failed: ${t.status} ${t.statusText}`,e),o=`Error: ${t.status} ${t.statusText}`}else console.error("toggleWaiverVerification failed: No response");return{success:!1,error:o}}async function j(e,a){let t={minors:a};console.log("updateWaiverMinors - Sending payload:",JSON.stringify(t,null,2)),console.log("updateWaiverMinors - Endpoint:",`/bookings/waivers/${e}/`);let o=await (0,r.Io)(`/bookings/waivers/${e}/`,{method:"PATCH",body:JSON.stringify(t)});if(console.log("updateWaiverMinors - Response status:",o?.status),console.log("updateWaiverMinors - Response ok:",o?.ok),o&&o.ok)return(0,d.revalidatePath)("/admin/waivers"),(0,d.revalidatePath)(`/admin/waivers/${e}`),{success:!0};let n="Failed to update minors";if(o)try{let e=await o.json();console.error(`updateWaiverMinors failed: ${o.status} ${o.statusText}`,e),n=e.minors?e.minors[0]:e.detail||`Error: ${o.status} ${o.statusText}`}catch(a){let e=await o.text();console.error(`updateWaiverMinors failed: ${o.status} ${o.statusText}`,e),n=`Error: ${o.status} ${o.statusText}`}return{success:!1,error:n}}async function C(e){let a=new URLSearchParams;e&&a.append("search",e);let t=await (0,r.Io)(`/bookings/waivers/?${a.toString()}`);return t&&t.ok?(await t.json()).map(l):[]}async function N(e,a){let t=await (0,r.Io)(`/bookings/customers/${e}/`,{method:"PATCH",body:JSON.stringify(a)});t&&t.ok&&(0,d.revalidatePath)("/admin/customers")}async function O(e){let a=new URLSearchParams;e&&a.append("search",e);let t=await (0,r.Io)(`/bookings/customers/?${a.toString()}`);return t&&t.ok?(await t.json()).map(f):[]}async function D(e){let a=await (0,r.Io)(`/bookings/customers/${e}/`);return a&&a.ok?f(await a.json()):null}async function x(e){let a=await (0,r.Io)(`/bookings/waivers/${e}/`);return a&&a.ok?l(await a.json()):null}async function R(){let e=await (0,r.Io)("/bookings/booking-blocks/");return e&&e.ok?(await e.json()).map(u):[]}async function L(e){let a={start_date:e.startDate,end_date:e.endDate,reason:e.reason,type:e.type,recurring:e.recurring},t=await (0,r.Io)("/bookings/booking-blocks/",{method:"POST",body:JSON.stringify(a)});t&&t.ok&&(0,d.revalidatePath)("/admin/booking-blocks")}async function W(e,a){let t={start_date:a.startDate,end_date:a.endDate,reason:a.reason,type:a.type,recurring:a.recurring},o=await (0,r.Io)(`/bookings/booking-blocks/${e}/`,{method:"PATCH",body:JSON.stringify(t)});o&&o.ok&&(0,d.revalidatePath)("/admin/booking-blocks")}async function F(e){let a=await (0,r.Io)(`/bookings/booking-blocks/${e}/`,{method:"DELETE"});a&&a.ok&&(0,d.revalidatePath)("/admin/booking-blocks")}async function J(e,a,t){let o="session"===a?`/bookings/bookings/${e}/${t?"mark_arrived":"mark_not_arrived"}/`:`/bookings/party-bookings/${e}/${t?"mark_arrived":"mark_not_arrived"}/`;try{let t=await (0,r.Io)(o,{method:"POST"});if(t&&t.ok)return(0,d.revalidatePath)("/admin/bookings"),(0,d.revalidatePath)("/admin/party-bookings"),(0,d.revalidatePath)(`/admin/${a}-bookings/${e}`),{success:!0};return{success:!1,error:"API request failed"}}catch(e){return console.error("Error toggling arrival:",e),{success:!1,error:String(e)}}}async function H(){let e=await (0,r.Io)("/bookings/session-booking-history/");return e&&e.ok?(await e.json()).map(e=>({...e,canRestore:e.can_restore,restoredAt:e.restored_at,restoredBy:e.restored_by,restoredByName:e.restored_by_name,restoredBookingId:e.restored_booking_id,originalBookingId:e.original_booking_id,paymentTransactionId:e.payment_transaction_id,paymentAmount:e.payment_amount,failureReason:e.failure_reason,createdAt:e.created_at,updatedAt:e.updated_at,voucherCode:e.voucher_code,discountAmount:e.discount_amount})):[]}async function M(){let e=await (0,r.Io)("/bookings/party-booking-history/");return e&&e.ok?(await e.json()).map(e=>({...e,canRestore:e.can_restore,restoredAt:e.restored_at,restoredBy:e.restored_by,restoredByName:e.restored_by_name,restoredBookingId:e.restored_booking_id,originalBookingId:e.original_booking_id,paymentTransactionId:e.payment_transaction_id,paymentAmount:e.payment_amount,failureReason:e.failure_reason,packageName:e.package_name,birthdayChildName:e.birthday_child_name,birthdayChildAge:e.birthday_child_age,createdAt:e.created_at,updatedAt:e.updated_at})):[]}async function G(e){let a=await (0,r.Io)(`/bookings/session-booking-history/${e}/restore/`,{method:"POST"});if(!a)return{success:!1,error:"Network error"};let t=await a.json();return a.ok?((0,d.revalidatePath)("/admin/session-bookings/history"),(0,d.revalidatePath)("/admin/bookings"),(0,d.revalidatePath)("/admin/all-bookings"),{success:!0,bookingId:t.booking_id,message:t.message}):{success:!1,error:t.error||"Failed to restore booking"}}async function V(e){let a=await (0,r.Io)(`/bookings/party-booking-history/${e}/restore/`,{method:"POST"});if(!a)return{success:!1,error:"Network error"};let t=await a.json();return a.ok?((0,d.revalidatePath)("/admin/party-bookings/history"),(0,d.revalidatePath)("/admin/party-bookings"),(0,d.revalidatePath)("/admin/all-bookings"),{success:!0,bookingId:t.booking_id,message:t.message}):{success:!1,error:t.error||"Failed to restore party booking"}}process.env.API_URL,(0,s.h)([c,g,k,h,m,y,p,v,P,_,w,B,S,$,I,A,U,T,E,j,C,N,O,D,x,R,L,W,F,J,H,M,G,V]),(0,o.U)("72bf0c3115ace700fdbe92609e40ef727f6e2e9a",c),(0,o.U)("781eabc081078ba07c5dca2961dfd5174f61ad5c",g),(0,o.U)("e46e056505ba9c21e65755fe78e4d9e136f86362",k),(0,o.U)("6121403de3ce7671509162f28a52f7b4eaeff528",h),(0,o.U)("d92b4b48651b0207f49bc42ae575077cdec3e411",m),(0,o.U)("22a10893c5718c944fe761dd831251f93e6775b9",y),(0,o.U)("b8bf2dc29fa3626f10e6027121c5728fbfc0abd6",p),(0,o.U)("c85fddc17f48c7e5e41cfa5391d110e4e65cbe50",v),(0,o.U)("53044355be2ec2dc177c7e7b8b16323e311f0326",P),(0,o.U)("2c1b655d510f2e8986beb1470bcf39e720b610dc",_),(0,o.U)("2788aa0878a99d77f68402e20b59c6532ded18d2",w),(0,o.U)("7d8a09a290318f0dfb4c32d4ead6e3b2326b11ce",B),(0,o.U)("c80f1a1c040ba7c09b4c27c71fb39116e2823b2a",S),(0,o.U)("93d6bd79e2305e9fa4e391db0cd1ffb488369a1d",$),(0,o.U)("8d547064179501ce1ea4649e478fbf49e6473b19",I),(0,o.U)("e426f40152b2e033cca9effa52511ce12b949d52",A),(0,o.U)("37874dfd2fc4b6f0ee28c02a735d876d4ab315a3",U),(0,o.U)("d5f1ecc7b99ddd36607b07794a41de699d232d70",T),(0,o.U)("c00f3eee56aa6d980d28786a353ddb302062907e",E),(0,o.U)("95a1b74108874a48ee8788e023fb227f64dbda91",j),(0,o.U)("71442caae190626eedb233beee8e6e8c9c396109",C),(0,o.U)("1fd1315d0d4a637cca24d5b73b78ca7b795fce82",N),(0,o.U)("49bd40b69d563dfe5ff617908e276df71ebdbc54",O),(0,o.U)("345a0d40e1b94dbe0fc6f20521428d743ae8e74b",D),(0,o.U)("5d158ae087a84dea77f3a7115cc49824ff3c841b",x),(0,o.U)("9cf94cfdb457087ba9f825e010e297fa11b3c2c8",R),(0,o.U)("5391122b95e0d787d35c0b389b61ae3052c8ce42",L),(0,o.U)("e57dc804520282bb2373ffdcde17e74d9b9c1c84",W),(0,o.U)("91669db3d44938b80c2051708c62dd895de08312",F),(0,o.U)("92eec72f6cda029d68ffc5f7747cf878f62592f6",J),(0,o.U)("bbfa2f626c0ce2d9495a71bb6fbdd62c712f6d1d",H),(0,o.U)("d0fb7859064b83124c23362f1eaba7c07d92a01a",M),(0,o.U)("b065149b1f592078e3633999bfc44b4507d24cd2",G),(0,o.U)("022d8cab0ebd51fd7c8a2bab806d3d4081ce9d79",V)},88437:(e,a,t)=>{"use strict";t.r(a),t.d(a,{getNotifications:()=>i,getUnreadCount:()=>s,getUnreadNotifications:()=>r,markAllAsRead:()=>b,markAsRead:()=>c});var o=t(21354);t(27277);var n=t(99592),d=t(35643);async function i(){try{let e=await (0,n.fetchAPI)("/core/notifications/");if(!e||!e.ok)return[];return await e.json()}catch(e){return console.error("Error fetching notifications:",e),[]}}async function r(){try{let e=await (0,n.fetchAPI)("/core/notifications/unread/");if(!e||!e.ok)return[];return await e.json()}catch(e){return console.error("Error fetching unread notifications:",e),[]}}async function s(){try{let e=await (0,n.fetchAPI)("/core/notifications/unread_count/");if(!e||!e.ok)return 0;return(await e.json()).count||0}catch(e){return console.error("Error fetching unread count:",e),0}}async function c(e){try{let a=await (0,n.fetchAPI)(`/core/notifications/${e}/mark_read/`,{method:"POST"});if(a&&a.ok)return(0,d.revalidatePath)("/admin"),{success:!0};return{success:!1}}catch(e){return console.error("Error marking notification as read:",e),{success:!1}}}async function b(){try{let e=await (0,n.fetchAPI)("/core/notifications/mark_all_read/",{method:"POST"});if(e&&e.ok)return(0,d.revalidatePath)("/admin"),{success:!0};return{success:!1}}catch(e){return console.error("Error marking all notifications as read:",e),{success:!1}}}(0,t(60663).ensureServerEntryExports)([i,r,s,c,b]),(0,o.createActionProxy)("cfbda83e87c5e4a47b3822d9ff670c9cccf1ebf4",i),(0,o.createActionProxy)("4b8a1f5b022fcc68cce8c3f8eec3ff8e9415b47b",r),(0,o.createActionProxy)("3c1d7275620e15e401cb797bfd91bddf6a7fa8ec",s),(0,o.createActionProxy)("85c2a0f83f54dd422e82eea5939d5a9c7782fff0",c),(0,o.createActionProxy)("25e8c8a61a9353863cf40a090ceb5f00692fc1a0",b)},45509:(e,a,t)=>{"use strict";t.d(a,{Io:()=>i,Y8:()=>c,l8:()=>r,xV:()=>s});var o=t(77157);let n="http://localhost:8000/api/v1".replace("localhost","127.0.0.1");function d(){let e=o.cookies().get("admin_token")?.value;return e?{Authorization:`Bearer ${e}`}:{}}async function i(e,a={}){let t={...d()};a.body instanceof FormData||(t["Content-Type"]="application/json"),a.headers&&Object.assign(t,a.headers);let o=new AbortController,i=setTimeout(()=>o.abort(),6e4);try{let d=await fetch(`${n}${e}`,{...a,headers:t,cache:"no-store",signal:o.signal});return clearTimeout(i),d}catch(a){throw clearTimeout(i),console.error(`[Fetch Failed] URL: ${n}${e}`,a),a}}async function r(e,a){let t={"Content-Type":"application/json",...d()},o=await fetch(`${n}${e}`,{method:"POST",headers:t,body:JSON.stringify(a),cache:"no-store"});return 401===o.status?null:o.json()}async function s(e,a){let t={"Content-Type":"application/json",...d()},o=await fetch(`${n}${e}`,{method:"PUT",headers:t,body:JSON.stringify(a),cache:"no-store"});return 401===o.status?null:o.json()}async function c(e){let a={"Content-Type":"application/json",...d()},t=await fetch(`${n}${e}`,{method:"DELETE",headers:a,cache:"no-store"});return 401===t.status?null:204===t.status}}};