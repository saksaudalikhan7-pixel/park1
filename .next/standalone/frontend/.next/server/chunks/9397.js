exports.id=9397,exports.ids=[9397],exports.modules={29448:(e,t,r)=>{Promise.resolve().then(r.bind(r,26160))},26160:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GalleryItemForm:()=>h});var a=r(54714),s=r(77580),i=r(96379),c=r(19863),o=r(52570),n=r(53278),l=r(43521),d=r(11671),m=r(21124),u=r(29872),f=r(57801),x=r(89157);let p=o.Ryn({title:o.Z_8().min(1,"Title is required"),category:o.Z_8().min(1,"Category is required"),imageUrl:o.Z_8().min(1,"Image URL is required"),active:o.O72(),order:o.Rxh()});function h({initialData:e,isEditing:t=!1}){let r=(0,f.useRouter)(),[o,h]=(0,s.useState)(!1),[y,b]=(0,s.useState)(""),g=(0,i.cI)({resolver:(0,c.F)(p),defaultValues:e||{title:"",category:"General",imageUrl:"",active:!0,order:0}}),j=async a=>{h(!0),b("");try{t&&e?.id?await (0,x.Cy)(e.id,a):await (0,x.X4)(a),r.push("/admin/misc-content"),r.refresh()}catch(e){b(e.message||"Something went wrong")}finally{h(!1)}},v=async()=>{if(confirm("Are you sure you want to delete this item?")){h(!0);try{await (0,x.XJ)(e.id),r.push("/admin/misc-content"),r.refresh()}catch(e){b(e.message||"Failed to delete"),h(!1)}}};return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx(u.default,{href:"/admin/misc-content",className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:a.jsx(n.Z,{className:"w-5 h-5 text-slate-500"})}),a.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:t?"Edit Gallery Item":"New Gallery Item"})]}),(0,a.jsxs)("form",{onSubmit:g.handleSubmit(j),className:"space-y-6 bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[y&&a.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm",children:y}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Title"}),a.jsx("input",{...g.register("title"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-slate-900",placeholder:"Kids Jumping"}),g.formState.errors.title&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:g.formState.errors.title.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),(0,a.jsxs)("select",{...g.register("category"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-slate-900",children:[a.jsx("option",{value:"General",children:"General"}),a.jsx("option",{value:"Attractions",children:"Attractions"}),a.jsx("option",{value:"Parties",children:"Parties"}),a.jsx("option",{value:"Events",children:"Events"})]}),g.formState.errors.category&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:g.formState.errors.category.message})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Image URL"}),a.jsx("input",{...g.register("imageUrl"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-slate-900",placeholder:"https://..."}),g.formState.errors.imageUrl&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:g.formState.errors.imageUrl.message})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Order"}),a.jsx("input",{type:"number",...g.register("order",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary text-slate-900"})]}),a.jsx("div",{className:"flex items-center pt-6",children:(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",...g.register("active"),className:"w-4 h-4 rounded border-slate-300 text-primary focus:ring-primary"}),a.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Active"})]})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100",children:[t&&(0,a.jsxs)("button",{type:"button",onClick:v,disabled:o,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors text-sm font-medium",children:[a.jsx(l.Z,{className:"w-4 h-4"}),"Delete"]}),(0,a.jsxs)("button",{type:"submit",disabled:o,className:"flex items-center gap-2 px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium disabled:opacity-50",children:[o?a.jsx(d.Z,{className:"w-4 h-4 animate-spin"}):a.jsx(m.Z,{className:"w-4 h-4"}),t?"Update Item":"Create Item"]})]})]})]})}},89157:(e,t,r)=>{"use strict";r.d(t,{Cy:()=>o,N2:()=>i,X4:()=>c,XJ:()=>s}),r(28892);var a=r(15537),s=(0,a.$)("8ae4c7834ddda0ea094a31983a190267c73963fc");(0,a.$)("6683b07e1b89fb37cebf99ebe7a9d74ada9a67e7");var i=(0,a.$)("5c53060748cb0ecc4a71bf8a71d36ac2c8c1844b"),c=(0,a.$)("81a1582db53a2d7db9fe21329a66ff3deb126527"),o=(0,a.$)("33f885e45f3dc2c8117adc9881da22ec7c2857e7")},53278:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(59858).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},21124:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(59858).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},43521:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(59858).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},31933:(e,t,r)=>{"use strict";r.d(t,{G:()=>o});var a=r(71481);let s=(0,a.createProxy)(String.raw`C:\Users\saksa\OneDrive\Desktop\yoyopark\ninjainflatablepark11\park1\frontend\app\(admin-portal)\admin\components\GalleryItemForm.tsx`),{__esModule:i,$$typeof:c}=s;s.default;let o=(0,a.createProxy)(String.raw`C:\Users\saksa\OneDrive\Desktop\yoyopark\ninjainflatablepark11\park1\frontend\app\(admin-portal)\admin\components\GalleryItemForm.tsx#GalleryItemForm`)},88437:(e,t,r)=>{"use strict";r.r(t),r.d(t,{getNotifications:()=>c,getUnreadCount:()=>n,getUnreadNotifications:()=>o,markAllAsRead:()=>d,markAsRead:()=>l});var a=r(21354);r(27277);var s=r(99592),i=r(35643);async function c(){try{let e=await (0,s.fetchAPI)("/core/notifications/");if(!e||!e.ok)return[];return await e.json()}catch(e){return console.error("Error fetching notifications:",e),[]}}async function o(){try{let e=await (0,s.fetchAPI)("/core/notifications/unread/");if(!e||!e.ok)return[];return await e.json()}catch(e){return console.error("Error fetching unread notifications:",e),[]}}async function n(){try{let e=await (0,s.fetchAPI)("/core/notifications/unread_count/");if(!e||!e.ok)return 0;return(await e.json()).count||0}catch(e){return console.error("Error fetching unread count:",e),0}}async function l(e){try{let t=await (0,s.fetchAPI)(`/core/notifications/${e}/mark_read/`,{method:"POST"});if(t&&t.ok)return(0,i.revalidatePath)("/admin"),{success:!0};return{success:!1}}catch(e){return console.error("Error marking notification as read:",e),{success:!1}}}async function d(){try{let e=await (0,s.fetchAPI)("/core/notifications/mark_all_read/",{method:"POST"});if(e&&e.ok)return(0,i.revalidatePath)("/admin"),{success:!0};return{success:!1}}catch(e){return console.error("Error marking all notifications as read:",e),{success:!1}}}(0,r(60663).ensureServerEntryExports)([c,o,n,l,d]),(0,a.createActionProxy)("cfbda83e87c5e4a47b3822d9ff670c9cccf1ebf4",c),(0,a.createActionProxy)("4b8a1f5b022fcc68cce8c3f8eec3ff8e9415b47b",o),(0,a.createActionProxy)("3c1d7275620e15e401cb797bfd91bddf6a7fa8ec",n),(0,a.createActionProxy)("85c2a0f83f54dd422e82eea5939d5a9c7782fff0",l),(0,a.createActionProxy)("25e8c8a61a9353863cf40a090ceb5f00692fc1a0",d)}};