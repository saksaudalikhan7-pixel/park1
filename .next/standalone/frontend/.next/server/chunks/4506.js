"use strict";exports.id=4506,exports.ids=[4506],exports.modules={78762:(o,e,t)=>{t.d(e,{fetchAllBookingsClient:()=>r,fetchBookingsClient:()=>l});let n="http://localhost:8000/api/v1";async function l(o="SESSION"){let e;let t=function(){if("undefined"==typeof document)return null;let o=document.cookie.split(";");console.log("[AUTH] All cookies:",document.cookie);let e=["admin_token","token","auth_token","access_token"];for(let t of o){let[o,n]=t.trim().split("=");if(console.log("[AUTH] Checking cookie:",o),e.includes(o)){let e=decodeURIComponent(n);return console.log("[AUTH] Found token with name:",o),e}}return console.warn("[AUTH] No authentication token found in cookies"),null}();if(console.log("[CLIENT] Token exists:",!!t),console.log("[CLIENT] Fetching type:",o),"PARTY"===o)e=`${n}/bookings/party-bookings/`;else{let t=new URLSearchParams;t.append("type",o),t.append("ordering","-created_at"),e=`${n}/bookings/bookings/?${t.toString()}`}console.log("[CLIENT] Fetching:",e);let l={"Content-Type":"application/json"};t&&(l.Authorization=`Bearer ${t}`);try{let o=await fetch(e,{headers:l,credentials:"include",cache:"no-store"});if(console.log("[CLIENT] Response status:",o.status),console.log("[CLIENT] Response ok:",o.ok),!o.ok){let e=await o.text();throw console.error("[CLIENT] Error response:",e),Error(`API returned ${o.status}: ${e}`)}let t=await o.json();return console.log("[CLIENT] Data received:",t),console.log("[CLIENT] Data length:",Array.isArray(t)?t.length:"not an array"),Array.isArray(t)?t:[]}catch(o){throw console.error("[CLIENT] Fetch error:",o),o}}async function r(){try{let[o,e]=await Promise.all([l("SESSION"),l("PARTY")]);console.log("[CLIENT] Session bookings:",o.length),console.log("[CLIENT] Party bookings:",e.length);let t=[...o,...e].sort((o,e)=>new Date(e.created_at).getTime()-new Date(o.created_at).getTime());return console.log("[CLIENT] All bookings:",t.length,"total"),t}catch(o){throw console.error("[CLIENT] Error fetching all bookings:",o),o}}}};