(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6538],{24486:function(e,t,s){Promise.resolve().then(s.bind(s,10261)),Promise.resolve().then(s.bind(s,56216)),Promise.resolve().then(s.bind(s,24137)),Promise.resolve().then(s.bind(s,66176))},10261:function(e,t,s){"use strict";s.r(t),s.d(t,{AdminHeader:function(){return b}});var a=s(20984),n=s(69388),i=s(91149),r=s(30208);s(54465);var o=s(77537),c=(0,o.$)("25e8c8a61a9353863cf40a090ceb5f00692fc1a0");(0,o.$)("cfbda83e87c5e4a47b3822d9ff670c9cccf1ebf4");var d=(0,o.$)("4b8a1f5b022fcc68cce8c3f8eec3ff8e9415b47b"),l=(0,o.$)("3c1d7275620e15e401cb797bfd91bddf6a7fa8ec"),m=(0,o.$)("85c2a0f83f54dd422e82eea5939d5a9c7782fff0"),f=s(40346);function b(e){var t;let{title:s,user:o}=e,[b,h]=(0,r.useState)(!1),[x,u]=(0,r.useState)([]),[p,g]=(0,r.useState)(0),[v,j]=(0,r.useState)(!1),w=async()=>{j(!0);let[e,t]=await Promise.all([d(),l()]);u(e),g(t),j(!1)};(0,r.useEffect)(()=>{w()},[]),(0,r.useEffect)(()=>{let e=setInterval(()=>{w()},3e4);return()=>clearInterval(e)},[]);let y=async e=>{await m(e),w()},N=async()=>{await c(),w()};return(0,a.jsx)("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-20 shadow-sm",children:(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{children:s&&(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:s})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"hidden md:block relative",children:[(0,a.jsx)(n.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2.5 w-64 border border-slate-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 hover:border-slate-400"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>h(!b),className:"relative p-2.5 text-slate-600 hover:bg-slate-100 rounded-lg transition-all duration-200 hover:text-slate-900",children:[(0,a.jsx)(i.Z,{className:"w-6 h-6"}),p>0&&(0,a.jsx)("span",{className:"absolute top-1.5 right-1.5 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-bold shadow-md",children:p>9?"9+":p})]}),b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{onClick:()=>h(!1),className:"fixed inset-0 z-10"}),(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-xl border border-slate-200 z-20",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between bg-slate-50/50",children:[(0,a.jsx)("h3",{className:"font-bold text-slate-900",children:"Notifications"}),p>0&&(0,a.jsx)("button",{onClick:N,className:"text-xs text-blue-600 hover:text-blue-700 font-medium hover:underline",children:"Mark all as read"})]}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:v?(0,a.jsx)("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):0===x.length?(0,a.jsx)("div",{className:"p-8 text-center text-slate-500",children:"No new notifications"}):x.map(e=>(0,a.jsx)("div",{onClick:()=>y(e.id),className:"p-4 hover:bg-slate-50 cursor-pointer border-b border-slate-100 last:border-b-0 transition-colors",children:e.link?(0,a.jsxs)(f.default,{href:e.link,onClick:()=>h(!1),children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:e.time_ago})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:e.time_ago})]})},e.id))}),(0,a.jsx)("div",{className:"p-3 border-t border-slate-200 text-center bg-slate-50/50",children:(0,a.jsx)(f.default,{href:"/admin/notifications",onClick:()=>h(!1),className:"text-sm font-medium text-blue-600 hover:text-blue-700 hover:underline",children:"View all notifications"})})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 pl-4 border-l border-slate-200",children:[(0,a.jsxs)("div",{className:"hidden md:block text-right",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900",children:(null==o?void 0:o.name)||"Admin User"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:(null==o?void 0:o.role)||"Administrator"})]}),(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-500 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:(null==o?void 0:null===(t=o.name)||void 0===t?void 0:t.charAt(0))||"A"})]})]})]})})})}},56216:function(e,t,s){"use strict";s.r(t),s.d(t,{AdminSidebar:function(){return T}});var a=s(20984),n=s(40346),i=s(46665),r=s(30208),o=s(43745),c=s(65227),d=s(16701),l=s(74935),m=s(83932),f=s(40488),b=s(85944),h=s(81701),x=s(979),u=s(10539),p=s(9513),g=s(35787),v=s(26677),j=s(59074),w=s(29089),y=s(16458),N=s(69726),k=s(90110),$=s(36240),Z=s(82547),C=s(76921),S=s(45747),P=s(45563),B=s(92583),z=s(8088);let A={sm:{width:32,height:32},md:{width:40,height:40},lg:{width:48,height:48}};function E(e){let{size:t="md",className:s=""}=e,i=A[t];return(0,a.jsx)(n.default,{href:"/admin",className:"inline-block ".concat(s),children:(0,a.jsx)(z.default,{src:"/ninja-logo.png",alt:"Ninja Inflatable Park",width:i.width,height:i.height,className:"object-contain",priority:!0})})}let M=[{name:"Overview",items:[{name:"Dashboard",href:"/admin",icon:o.Z,permission:{entity:"dashboard",action:"read"}},{name:"Website Content",href:"/admin/cms",icon:c.Z,permission:{entity:"cms",action:"read"}},{name:"Contact Messages",href:"/admin/cms/contact-messages",icon:d.Z,permission:{entity:"cms",action:"read"}},{name:"Go Kids Go",href:"https://www.gokidsgo.co.uk/",icon:c.Z,external:!0,permission:{entity:"*",action:"read"}},{name:"Go Kids Play",href:"https://www.gokidsplay.co.uk/",icon:l.Z,external:!0,permission:{entity:"*",action:"read"}},{name:"Spin Pin",href:"https://www.spinpin.uk/",icon:m.Z,external:!0,permission:{entity:"*",action:"read"}}]},{name:"Booking Management",items:[{name:"All Bookings",href:"/admin/all-bookings",icon:f.Z,permission:{entity:"bookings",action:"read"}},{name:"Calendar",href:"/admin/calendar",icon:b.Z,permission:{entity:"bookings",action:"read"}},{name:"Session Bookings",href:"/admin/bookings",icon:h.Z,permission:{entity:"bookings",action:"read"}},{name:"Manual Session Booking",href:"/admin/session-bookings/new",icon:h.Z,permission:{entity:"bookings",action:"write"}},{name:"Session Booking History",href:"/admin/session-bookings/history",icon:x.Z,permission:{entity:"bookings",action:"read"}},{name:"Party Bookings",href:"/admin/party-bookings",icon:l.Z,permission:{entity:"parties",action:"read"}},{name:"Manual Party Booking",href:"/admin/party-bookings/new",icon:l.Z,permission:{entity:"parties",action:"write"}},{name:"Party Booking History",href:"/admin/party-bookings/history",icon:x.Z,permission:{entity:"parties",action:"read"}},{name:"Invitation Templates",href:"/admin/invitations",icon:u.Z},{name:"Booking Blocks",href:"/admin/booking-blocks",icon:f.Z,permission:{entity:"bookings",action:"read"}},{name:"Customers",href:"/admin/customers",icon:h.Z,permission:{entity:"customers",action:"read"}}]},{name:"Waivers & Entries",items:[{name:"Waiver Submissions",href:"/admin/waivers",icon:p.Z,permission:{entity:"waivers",action:"read"}},{name:"Free Entry Submissions",href:"/admin/free-entries",icon:g.Z,permission:{entity:"waivers",action:"read"}}]},{name:"Calendar & Availability",items:[{name:"Holiday Open Dates",href:"/admin/holidays/open",icon:b.Z,permission:{entity:"holidays",action:"read"}},{name:"Holiday Closed Dates",href:"/admin/holidays/closed",icon:v.Z,permission:{entity:"holidays",action:"read"}}]},{name:"Promotions",items:[{name:"Vouchers",href:"/admin/vouchers",icon:j.Z,permission:{entity:"vouchers",action:"read"}}]},{name:"System",items:[{name:"Settings",href:"/admin/settings",icon:w.Z,permission:{entity:"settings",action:"read"}},{name:"Admin Users",href:"/admin/users",icon:y.Z,permission:{entity:"users",action:"read"}}]}],_=[{name:"My Profile",href:"/admin/profile",icon:N.Z},{name:"View Site",href:"/",icon:k.Z}];function T(e){let{permissions:t=[]}=e,s=(0,i.usePathname)(),[o,c]=(0,r.useState)(!1),[d,l]=(0,r.useState)(["Overview","Booking Management","Waivers & Entries","Calendar & Availability","Promotions","Content Management","System"]),m=e=>{l(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},f=e=>"/admin"===e?s===e:s.startsWith(e),b=t.includes("*"),h=M.map(e=>{let s=e.items.filter(e=>!e.permission||!!b||function(e,t){let{entity:s,action:a}=t;return!!(e.includes("*:*")||e.includes("".concat(s,":*"))||e.includes("".concat(s,":").concat(a)))}(t,e.permission));return{...e,items:s}}).filter(e=>e.items.length>0),x=()=>(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"p-6 border-b border-slate-200 bg-gradient-to-br from-slate-50 to-white",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(E,{size:"lg",className:"shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:"Ninja Admin"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Management Portal"})]})]})}),(0,a.jsx)("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:h.map(e=>(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("button",{onClick:()=>m(e.name),className:"w-full flex items-center justify-between px-3 py-2.5 text-xs font-bold text-slate-600 uppercase tracking-wider hover:text-slate-900 transition-colors rounded-lg hover:bg-slate-50",children:[(0,a.jsx)("span",{children:e.name}),d.includes(e.name)?(0,a.jsx)($.Z,{className:"w-4 h-4"}):(0,a.jsx)(Z.Z,{className:"w-4 h-4"})]}),d.includes(e.name)&&(0,a.jsx)("div",{className:"mt-2 space-y-1",children:e.items.map(e=>{let t=f(e.href);return(0,a.jsxs)(n.default,{href:e.href,onClick:()=>c(!1),target:e.external?"_blank":void 0,rel:e.external?"noopener noreferrer":void 0,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ".concat(t?"bg-blue-600 text-white shadow-md shadow-blue-600/20":"text-slate-700 hover:bg-slate-100 hover:text-slate-900"),children:[(0,a.jsx)(e.icon,{className:"w-5 h-5 ".concat(t?"text-white":"text-slate-400")}),(0,a.jsx)("span",{className:"flex-1",children:e.name}),e.external&&(0,a.jsx)(k.Z,{className:"w-4 h-4 text-slate-400"}),e.badge&&(0,a.jsx)("span",{className:"px-2 py-0.5 text-xs font-bold bg-red-500 text-white rounded-full",children:e.badge})]},e.href)})})]},e.name))}),(0,a.jsxs)("div",{className:"p-4 border-t border-slate-200 bg-slate-50/50 space-y-1",children:[_.map(e=>(0,a.jsxs)(n.default,{href:e.href,target:"View Site"===e.name?"_blank":void 0,className:"flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-slate-700 hover:bg-white hover:text-slate-900 hover:shadow-sm transition-all duration-200",children:[(0,a.jsx)(e.icon,{className:"w-5 h-5 text-slate-400"}),(0,a.jsx)("span",{children:e.name})]},e.href)),(0,a.jsxs)("button",{onClick:()=>(0,B.rK)(),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 hover:text-red-700 transition-all duration-200",children:[(0,a.jsx)(C.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Logout"})]})]})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>c(!o),className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-lg border border-slate-200",children:o?(0,a.jsx)(S.Z,{className:"w-6 h-6 text-slate-700"}):(0,a.jsx)(P.Z,{className:"w-6 h-6 text-slate-700"})}),o&&(0,a.jsx)("div",{onClick:()=>c(!1),className:"lg:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300"}),(0,a.jsx)("aside",{className:"lg:hidden fixed top-0 left-0 bottom-0 w-72 bg-white border-r border-slate-200 z-50 transform transition-transform duration-300 ease-out shadow-2xl ".concat(o?"translate-x-0":"-translate-x-full"),children:(0,a.jsx)(x,{})}),(0,a.jsx)("aside",{className:"hidden lg:block fixed top-0 left-0 bottom-0 w-72 bg-white border-r border-slate-200 z-50",children:(0,a.jsx)(x,{})})]})}},92583:function(e,t,s){"use strict";s.d(t,{D_:function(){return d},FF:function(){return l},NU:function(){return p},OL:function(){return h},Ts:function(){return n},Wp:function(){return i},YB:function(){return b},cz:function(){return w},dh:function(){return c},fb:function(){return u},fm:function(){return v},gE:function(){return g},k$:function(){return f},kt:function(){return j},qc:function(){return x},rK:function(){return r},vC:function(){return o},yl:function(){return y},zI:function(){return m}}),s(54465);var a=s(77537),n=(0,a.$)("022d8cab0ebd51fd7c8a2bab806d3d4081ce9d79"),i=(0,a.$)("72bf0c3115ace700fdbe92609e40ef727f6e2e9a");(0,a.$)("781eabc081078ba07c5dca2961dfd5174f61ad5c");var r=(0,a.$)("e46e056505ba9c21e65755fe78e4d9e136f86362");(0,a.$)("6121403de3ce7671509162f28a52f7b4eaeff528"),(0,a.$)("d92b4b48651b0207f49bc42ae575077cdec3e411"),(0,a.$)("22a10893c5718c944fe761dd831251f93e6775b9"),(0,a.$)("b8bf2dc29fa3626f10e6027121c5728fbfc0abd6"),(0,a.$)("c85fddc17f48c7e5e41cfa5391d110e4e65cbe50"),(0,a.$)("53044355be2ec2dc177c7e7b8b16323e311f0326");var o=(0,a.$)("2c1b655d510f2e8986beb1470bcf39e720b610dc");(0,a.$)("2788aa0878a99d77f68402e20b59c6532ded18d2");var c=(0,a.$)("7d8a09a290318f0dfb4c32d4ead6e3b2326b11ce"),d=(0,a.$)("c80f1a1c040ba7c09b4c27c71fb39116e2823b2a");(0,a.$)("93d6bd79e2305e9fa4e391db0cd1ffb488369a1d");var l=(0,a.$)("8d547064179501ce1ea4649e478fbf49e6473b19");(0,a.$)("e426f40152b2e033cca9effa52511ce12b949d52"),(0,a.$)("37874dfd2fc4b6f0ee28c02a735d876d4ab315a3"),(0,a.$)("d5f1ecc7b99ddd36607b07794a41de699d232d70");var m=(0,a.$)("c00f3eee56aa6d980d28786a353ddb302062907e"),f=(0,a.$)("95a1b74108874a48ee8788e023fb227f64dbda91"),b=(0,a.$)("71442caae190626eedb233beee8e6e8c9c396109");(0,a.$)("1fd1315d0d4a637cca24d5b73b78ca7b795fce82");var h=(0,a.$)("49bd40b69d563dfe5ff617908e276df71ebdbc54");(0,a.$)("345a0d40e1b94dbe0fc6f20521428d743ae8e74b"),(0,a.$)("5d158ae087a84dea77f3a7115cc49824ff3c841b");var x=(0,a.$)("9cf94cfdb457087ba9f825e010e297fa11b3c2c8"),u=(0,a.$)("5391122b95e0d787d35c0b389b61ae3052c8ce42"),p=(0,a.$)("e57dc804520282bb2373ffdcde17e74d9b9c1c84"),g=(0,a.$)("91669db3d44938b80c2051708c62dd895de08312"),v=(0,a.$)("92eec72f6cda029d68ffc5f7747cf878f62592f6"),j=(0,a.$)("bbfa2f626c0ce2d9495a71bb6fbdd62c712f6d1d"),w=(0,a.$)("d0fb7859064b83124c23362f1eaba7c07d92a01a"),y=(0,a.$)("b065149b1f592078e3633999bfc44b4507d24cd2")},24137:function(e,t,s){"use strict";s.r(t),s.d(t,{ToastProvider:function(){return h},useToast:function(){return b}});var a=s(20984),n=s(95350),i=s(83631),r=s(58518),o=s(36997),c=s(4343),d=s(31959),l=s(45747),m=s(30208);let f=(0,m.createContext)(void 0);function b(){let e=(0,m.useContext)(f);if(!e)throw Error("useToast must be used within ToastProvider");return e}function h(e){let{children:t}=e,[s,i]=(0,m.useState)([]),r=(0,m.useCallback)(function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a=Math.random().toString(36).substring(7),n={id:a,type:e,message:t,duration:s};i(e=>[...e,n]),s>0&&setTimeout(()=>{i(e=>e.filter(e=>e.id!==a))},s)},[]),o=(0,m.useCallback)(e=>{i(t=>t.filter(t=>t.id!==e))},[]);return(0,a.jsxs)(f.Provider,{value:{showToast:r},children:[t,(0,a.jsx)("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 max-w-md",children:(0,a.jsx)(n.M,{children:s.map(e=>(0,a.jsx)(x,{toast:e,onClose:()=>o(e.id)},e.id))})})]})}function x(e){let{toast:t,onClose:s}=e,n={success:(0,a.jsx)(r.Z,{className:"w-5 h-5"}),error:(0,a.jsx)(o.Z,{className:"w-5 h-5"}),warning:(0,a.jsx)(c.Z,{className:"w-5 h-5"}),info:(0,a.jsx)(d.Z,{className:"w-5 h-5"})};return(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:100,scale:.95},className:"".concat({success:"bg-green-500/10 border-green-500/30 text-green-400",error:"bg-red-500/10 border-red-500/30 text-red-400",warning:"bg-yellow-500/10 border-yellow-500/30 text-yellow-400",info:"bg-blue-500/10 border-blue-500/30 text-blue-400"}[t.type]," backdrop-blur-md border-2 rounded-xl p-4 shadow-2xl flex items-start gap-3 min-w-[300px]"),children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:n[t.type]}),(0,a.jsx)("p",{className:"flex-1 text-sm font-medium text-white",children:t.message}),(0,a.jsx)("button",{onClick:s,className:"flex-shrink-0 text-white/50 hover:text-white transition-colors",children:(0,a.jsx)(l.Z,{className:"w-4 h-4"})})]})}}},function(e){e.O(0,[6176,1844,3631,1997,9462,7115,9069,1744],function(){return e(e.s=24486)}),_N_E=e.O()}]);