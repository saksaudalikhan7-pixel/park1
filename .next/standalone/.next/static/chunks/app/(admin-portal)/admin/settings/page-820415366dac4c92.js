(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3048],{83160:function(e,t,s){Promise.resolve().then(s.bind(s,90067))},90067:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(20984),n=s(30208),r=s(81558),l=s(65227),i=s(54148),c=s(12182),o=s(23913),d=s(16458),u=s(71093),m=s(66176);function x(){let[e,t]=(0,n.useState)("business"),[s,o]=(0,n.useState)(null),[d,x]=(0,n.useState)(!0);async function g(){try{let e=await (0,u.Gw)();o(e)}catch(e){m.toast.error("Failed to load settings")}finally{x(!1)}}return((0,n.useEffect)(()=>{g()},[]),d)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)(r.Z,{className:"h-8 w-8 animate-spin text-neon-blue"})}):(0,a.jsxs)("div",{className:"p-8 max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Settings"}),(0,a.jsx)("p",{className:"text-slate-500",children:"Manage your park configuration and preferences"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:(0,a.jsxs)("nav",{className:"flex flex-col",children:[(0,a.jsx)(f,{active:"business"===e,onClick:()=>t("business"),icon:(0,a.jsx)(l.Z,{size:18}),label:"Business Details"}),(0,a.jsx)(f,{active:"media"===e,onClick:()=>t("media"),icon:(0,a.jsx)(i.Z,{size:18}),label:"Media & Banners"}),(0,a.jsx)(f,{active:"account"===e,onClick:()=>t("account"),icon:(0,a.jsx)(c.Z,{size:18}),label:"Account & Security"})]})})}),(0,a.jsx)("div",{className:"lg:col-span-3",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 md:p-8",children:["business"===e&&(0,a.jsx)(h,{settings:s,onUpdate:o}),"media"===e&&(0,a.jsx)(b,{}),"account"===e&&(0,a.jsx)(p,{})]})})]})]})}function f(e){let{active:t,onClick:s,icon:n,label:r}=e;return(0,a.jsxs)("button",{onClick:s,className:"flex items-center gap-3 px-4 py-4 text-sm font-medium transition-colors text-left border-l-4 ".concat(t?"bg-slate-50 text-neon-blue border-neon-blue":"text-slate-600 border-transparent hover:bg-slate-50 hover:text-slate-900"),children:[n,r]})}function h(e){let{settings:t,onUpdate:s}=e,[l,i]=(0,n.useState)(!1);async function c(e){e.preventDefault(),i(!0);let a=new FormData(e.currentTarget),n={parkName:a.get("parkName"),contactPhone:a.get("contactPhone"),contactEmail:a.get("contactEmail"),gstNumber:a.get("gstNumber"),sessionDuration:parseInt(a.get("sessionDuration")),adultPrice:parseFloat(a.get("adultPrice")),childPrice:parseFloat(a.get("childPrice"))};try{let e=await (0,u.VP)(t.id,n);s(e),m.toast.success("Settings saved successfully")}catch(e){m.toast.error("Failed to save settings")}finally{i(!1)}}return(0,a.jsxs)("form",{onSubmit:c,className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-900 border-b border-slate-100 pb-4",children:"Business Configuration"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(g,{name:"parkName",label:"Park Name",defaultValue:t.parkName}),(0,a.jsx)(g,{name:"contactPhone",label:"Contact Phone",defaultValue:t.contactPhone}),(0,a.jsx)(g,{name:"contactEmail",label:"Contact Email",defaultValue:t.contactEmail}),(0,a.jsx)(g,{name:"gstNumber",label:"GST Number",defaultValue:t.gstNumber||""})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)(g,{name:"sessionDuration",label:"Session Duration (mins)",defaultValue:t.sessionDuration,type:"number"}),(0,a.jsx)(g,{name:"adultPrice",label:"Adult Price (₹)",defaultValue:t.adultPrice,type:"number"}),(0,a.jsx)(g,{name:"childPrice",label:"Child Price (₹)",defaultValue:t.childPrice,type:"number"})]}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsxs)("button",{disabled:l,className:"bg-slate-900 text-white px-6 py-2.5 rounded-lg font-semibold hover:bg-slate-800 transition-colors flex items-center gap-2 disabled:opacity-50",children:[l?(0,a.jsx)(r.Z,{className:"animate-spin",size:18}):(0,a.jsx)(o.Z,{size:18}),"Save Changes"]})})]})}function b(){return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-900 border-b border-slate-100 pb-4",children:"Media & Banners"}),(0,a.jsx)("p",{className:"text-slate-500",children:"Media settings are managed via the Banners and Activities modules."}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,a.jsx)("h3",{className:"font-medium text-slate-900",children:"Quick Links"}),(0,a.jsxs)("div",{className:"mt-2 flex gap-4",children:[(0,a.jsx)("a",{href:"/admin/banners",className:"text-neon-blue hover:underline",children:"Manage Banners →"}),(0,a.jsx)("a",{href:"/admin/activities",className:"text-neon-blue hover:underline",children:"Manage Activities →"})]})]})})]})}function p(){let[e,t]=(0,n.useState)(!1);async function s(e){e.preventDefault(),t(!0);let s=new FormData(e.currentTarget),a=s.get("currentPass"),n=s.get("newPass");if(n!==s.get("confirmPass")){m.toast.error("New passwords do not match"),t(!1);return}try{await (0,u.gQ)(a,n),m.toast.success("Password updated successfully"),e.target.reset()}catch(e){m.toast.error("Failed to update password")}finally{t(!1)}}return(0,a.jsxs)("form",{onSubmit:s,className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-900 border-b border-slate-100 pb-4",children:"Account Security"}),(0,a.jsxs)("div",{className:"space-y-4 max-w-md",children:[(0,a.jsx)(g,{name:"currentPass",label:"Current Password",type:"password",placeholder:"••••••••"}),(0,a.jsx)(g,{name:"newPass",label:"New Password",type:"password",placeholder:"••••••••"}),(0,a.jsx)(g,{name:"confirmPass",label:"Confirm New Password",type:"password",placeholder:"••••••••"})]}),(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsxs)("button",{disabled:e,className:"bg-slate-900 text-white px-6 py-2.5 rounded-lg font-semibold hover:bg-slate-800 transition-colors flex items-center gap-2 disabled:opacity-50",children:[e?(0,a.jsx)(r.Z,{className:"animate-spin",size:18}):(0,a.jsx)(d.Z,{size:18}),"Update Password"]})})]})}function g(e){let{label:t,name:s,type:n="text",defaultValue:r,placeholder:l}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t}),(0,a.jsx)("input",{name:s,type:n,defaultValue:r,placeholder:l,className:"w-full px-4 py-2 rounded-lg border border-slate-300 focus:ring-2 focus:ring-neon-blue focus:border-transparent outline-none transition-all text-slate-900"})]})}},71093:function(e,t,s){"use strict";s.d(t,{Gw:function(){return r},VP:function(){return l},gQ:function(){return n}}),s(54465);var a=s(77537),n=(0,a.$)("5cf6eeaf48fbc0e38362f9f1ceb4c38aa3e27362"),r=(0,a.$)("843bcca4732b1d036dc83f32ca4d15bcdcae81b8"),l=(0,a.$)("f655556d5921ead0713063eed51fc3fb0b70f3c4")},72690:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(30208),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=s;return(0,a.createElement)("svg",{ref:l,...n,width:c,height:c,stroke:i,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(r(e)),u].join(" "),...x},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s}},65227:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},81558:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},12182:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},23913:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},16458:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},54148:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},77537:function(e,t,s){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return n}});let a=s(54465);function n(e){let{createServerReference:t}=s(92981);return t(e,a.callServer)}}},function(e){e.O(0,[6176,7115,9069,1744],function(){return e(e.s=83160)}),_N_E=e.O()}]);