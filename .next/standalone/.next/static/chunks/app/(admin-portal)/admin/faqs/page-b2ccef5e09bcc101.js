(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8296,787,8791,7613],{70067:function(n,e,t){Promise.resolve().then(t.bind(t,443)),Promise.resolve().then(t.t.bind(t,31844,23))},443:function(n,e,t){"use strict";t.r(e),t.d(e,{PermissionGate:function(){return o}});var i=t(20984),s=t(30208);function o(n){let{entity:e,action:t,children:o,fallback:r}=n,{hasAccess:c,loading:u}=function(n,e){let[t,i]=(0,s.useState)(!1),[o,r]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async function(){try{let t=await fetch("/api/admin/session");if(!t.ok)throw Error("Failed to fetch session");let s=await t.json();if(null==s?void 0:s.permissions){let t=s.permissions.some(t=>t==="".concat(n,":*")||t==="".concat(n,":").concat(e)||"*:*"===t);i(t)}}catch(n){i(!1)}finally{r(!1)}})()},[n,e]),{hasAccess:t,loading:o}}(e,t);return u?null:c?(0,i.jsx)(i.Fragment,{children:o}):r||null}}},function(n){n.O(0,[1844,7115,9069,1744],function(){return n(n.s=70067)}),_N_E=n.O()}]);