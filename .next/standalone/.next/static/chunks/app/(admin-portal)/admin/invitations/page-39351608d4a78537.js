(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[822],{56957:function(e,t,a){Promise.resolve().then(a.bind(a,77127))},77127:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var s=a(20984),r=a(30208),l=a(40346),i=a(90615),n=a(69388),o=a(10539),c=a(14252),d=a(26427),u=a(66176);function h(){let[e,t]=(0,r.useState)([]),[a,h]=(0,r.useState)(!0),[m,f]=(0,r.useState)("");(0,r.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await fetch("".concat("http://localhost:8000/api/v1","/invitations/templates/"));if(e.ok){let a=await e.json();t(a)}else u.toast.error("Failed to load templates")}catch(e){console.error("Error loading templates:",e),u.toast.error("Error loading templates")}finally{h(!1)}},p=async e=>{if(confirm("Are you sure you want to delete this template?"))try{let t=(e=>{var t;let a="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===a.length)return null===(t=a.pop())||void 0===t?void 0:t.split(";").shift()})("admin_token"),a={"Content-Type":"application/json"};t&&(a.Authorization="Bearer ".concat(t));let s=await fetch("".concat("http://localhost:8000/api/v1","/invitations/templates/").concat(e,"/"),{method:"DELETE",headers:a,credentials:"include"});if(s.ok)u.toast.success("Template deleted successfully"),x();else{let e=await s.text();console.error("Delete failed:",e),u.toast.error("Failed to delete template")}}catch(e){console.error("Error deleting template:",e),u.toast.error("Error deleting template")}},v=e.filter(e=>e.name.toLowerCase().includes(m.toLowerCase()));return(0,s.jsxs)("div",{className:"p-8 max-w-7xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Invitation Templates"}),(0,s.jsx)("p",{className:"text-slate-500 mt-1",children:"Manage e-invitation designs for party bookings"})]}),(0,s.jsxs)(l.default,{href:"/admin/invitations/new",className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-xl font-bold transition-colors shadow-lg",children:[(0,s.jsx)(i.Z,{size:20}),"New Template"]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,s.jsx)("div",{className:"p-4 border-b border-slate-200 bg-slate-50/50 flex gap-4",children:(0,s.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,s.jsx)(n.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),(0,s.jsx)("input",{type:"text",placeholder:"Search templates...",value:m,onChange:e=>f(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-neon-blue/20 focus:border-neon-blue transition-all"})]})}),a?(0,s.jsx)("div",{className:"p-12 text-center text-slate-500",children:"Loading templates..."}):0===v.length?(0,s.jsx)("div",{className:"p-12 text-center text-slate-500",children:m?"No templates found matching your search.":"No templates created yet."}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:v.map(e=>(0,s.jsxs)("div",{className:"group bg-white rounded-xl border border-slate-200 overflow-hidden hover:shadow-md transition-all",children:[(0,s.jsxs)("div",{className:"aspect-video bg-slate-100 relative overflow-hidden",children:[e.background_image?(0,s.jsx)("img",{src:e.background_image,alt:e.name,className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:(0,s.jsx)(o.Z,{size:48})}),(0,s.jsxs)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:[(0,s.jsx)(l.default,{href:"/admin/invitations/".concat(e.id),className:"p-2 bg-white text-blue-600 rounded-full hover:bg-blue-600 hover:text-white transition-colors",children:(0,s.jsx)(c.Z,{size:20})}),(0,s.jsx)("button",{onClick:()=>p(e.id),className:"p-2 bg-white text-red-600 rounded-full hover:bg-red-600 hover:text-white transition-colors",children:(0,s.jsx)(d.Z,{size:20})})]})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("h3",{className:"font-bold text-slate-900",children:e.name}),(0,s.jsx)("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ".concat(e.is_active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"),children:e.is_active?"Active":"Draft"})]}),(0,s.jsxs)("p",{className:"text-sm text-slate-500 line-clamp-2",children:["Default Title: ",e.default_title||"None"]})]})]},e.id))})]})]})}},72690:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(30208),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let a=(0,s.forwardRef)((a,i)=>{let{color:n="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:h,...m}=a;return(0,s.createElement)("svg",{ref:i,...r,width:o,height:o,stroke:n,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(l(e)),u].join(" "),...m},[...t.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(h)?h:[h]])});return a.displayName="".concat(e),a}},10539:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},14252:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},90615:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},69388:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},26427:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},40346:function(e,t,a){"use strict";a.d(t,{default:function(){return r.a}});var s=a(31844),r=a.n(s)}},function(e){e.O(0,[6176,1844,7115,9069,1744],function(){return e(e.s=56957)}),_N_E=e.O()}]);