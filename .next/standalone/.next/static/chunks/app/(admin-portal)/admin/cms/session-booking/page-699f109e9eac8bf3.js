(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2517],{55746:function(e,t,s){Promise.resolve().then(s.bind(s,66988)),Promise.resolve().then(s.t.bind(s,31844,23))},66988:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(20984),l=s(30208),i=s(20142),a=s(81266),n=s(86149),o=s(81558),d=s(33186),c=s(23913);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,s(72690).Z)("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]);var p=s(66176),m=s(26521);let b=[{key:"step-1",label:"Step 1: Session Selection",defaultTitle:"Select Session",defaultSubtitle:"Choose your preferred date, time and duration"},{key:"step-2",label:"Step 2: Guests",defaultTitle:"Select Guests",defaultSubtitle:"Choose the number of jumpers and spectators"},{key:"step-3",label:"Step 3: Details",defaultTitle:"Your Details",defaultSubtitle:"We'll send your booking confirmation here"},{key:"step-5",label:"Step 5: Payment",defaultTitle:"Summary & Payment",defaultSubtitle:"Review your booking details"}],x=n.Ryn({title:n.Z_8().min(1,"Title is required"),subtitle:n.Z_8().optional()}),f=n.Ryn({adult_price:n.Rxh().min(0,"Price must be positive"),adult_label:n.Z_8().min(1,"Label is required"),adult_description:n.Z_8().min(1,"Description is required"),kid_price:n.Rxh().min(0,"Price must be positive"),kid_label:n.Z_8().min(1,"Label is required"),kid_description:n.Z_8().min(1,"Description is required"),spectator_price:n.Rxh().min(0,"Price must be positive"),spectator_label:n.Z_8().min(1,"Label is required"),spectator_description:n.Z_8().min(1,"Description is required"),gst_rate:n.Rxh().min(0).max(100,"GST must be between 0-100%"),duration_label:n.Z_8().min(1,"Label is required"),duration_description:n.Z_8().min(1,"Description is required")});function h(){let[e,t]=(0,l.useState)([]),[s,i]=(0,l.useState)(!0),[a,n]=(0,l.useState)(null),[d,c]=(0,l.useState)(null),[u,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{f(),h()},[]);let f=async()=>{try{let e=await (0,m.Zy)("booking-session");t(e)}catch(e){console.error("Failed to load sections",e),p.toast.error("Failed to load content")}finally{i(!1)}},h=async()=>{try{let e=await fetch("".concat("http://localhost:8000/api/v1","/cms/session-booking-config/1/")),t=await e.json();c(t)}catch(e){console.error("Failed to load pricing config",e)}},j=async(t,s)=>{n(t);try{let r=e.find(e=>e.section_key===t);r?await (0,m.WQ)(r.id,{...r,title:s.title,subtitle:s.subtitle||""}):await (0,m.eh)({page:"booking-session",section_key:t,title:s.title,subtitle:s.subtitle||"",active:!0,order:0,content:"",image_url:"",video_url:"",cta_text:"",cta_link:""}),await f(),p.toast.success("Section updated successfully")}catch(e){console.error("Failed to save section",e),p.toast.error("Failed to save changes")}finally{n(null)}},_=async e=>{x(!0);try{if(!(await fetch("".concat("http://localhost:8000/api/v1","/cms/session-booking-config/1/"),{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})).ok)throw Error("Failed to update pricing");await h(),p.toast.success("Pricing configuration updated successfully")}catch(e){console.error("Failed to save pricing",e),p.toast.error("Failed to save pricing configuration")}finally{x(!1)}};return s||!d?(0,r.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,r.jsx)(o.Z,{className:"w-8 h-8 animate-spin text-primary"})}):(0,r.jsxs)("div",{className:"space-y-8 max-w-4xl",children:[(0,r.jsx)(g,{initialData:d,isSaving:u,onSave:_}),(0,r.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Step Titles & Subtitles"}),(0,r.jsx)("div",{className:"space-y-6",children:b.map(t=>{let s=e.find(e=>e.section_key===t.key);return(0,r.jsx)(y,{step:t,initialData:s,isSaving:a===t.key,onSave:e=>j(t.key,e)},t.key)})})]})]})}function g(e){let{initialData:t,isSaving:s,onSave:l}=e,{register:n,handleSubmit:u,formState:{errors:p}}=(0,i.cI)({resolver:(0,a.F)(f),defaultValues:{adult_price:parseFloat(null==t?void 0:t.adult_price)||899,adult_label:(null==t?void 0:t.adult_label)||"Ninja Warrior (7+ Years)",adult_description:(null==t?void 0:t.adult_description)||"₹ 899 + GST per person",kid_price:parseFloat(null==t?void 0:t.kid_price)||500,kid_label:(null==t?void 0:t.kid_label)||"Little Ninjas (1-7 Years)",kid_description:(null==t?void 0:t.kid_description)||"₹ 500 + GST per person",spectator_price:parseFloat(null==t?void 0:t.spectator_price)||150,spectator_label:(null==t?void 0:t.spectator_label)||"Spectators",spectator_description:(null==t?void 0:t.spectator_description)||"₹ 150 + GST per person",gst_rate:parseFloat(null==t?void 0:t.gst_rate)||18,duration_label:(null==t?void 0:t.duration_label)||"60 Minutes",duration_description:(null==t?void 0:t.duration_description)||"Standard Session"}});return(0,r.jsxs)("form",{onSubmit:u(l),className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,r.jsx)("div",{className:"p-4 border-b border-slate-100 bg-gradient-to-r from-emerald-50 to-blue-50 flex justify-between items-center",children:(0,r.jsxs)("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[(0,r.jsx)(d.Z,{className:"w-5 h-5 text-emerald-600"}),"Pricing & Categories Configuration"]})}),(0,r.jsxs)("div",{className:"p-6 space-y-8",children:[(0,r.jsxs)("div",{className:"border-l-4 border-blue-500 pl-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-slate-800 mb-4",children:"Adult Category"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Label"}),(0,r.jsx)("input",{...n("adult_label"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. Ninja Warrior (7+ Years)"}),p.adult_label&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.adult_label.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Price (₹)"}),(0,r.jsx)("input",{type:"number",step:"0.01",...n("adult_price",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none"}),p.adult_price&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.adult_price.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),(0,r.jsx)("input",{...n("adult_description"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. ₹ 899 + GST per person"}),p.adult_description&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.adult_description.message})]})]})]}),(0,r.jsxs)("div",{className:"border-l-4 border-purple-500 pl-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-slate-800 mb-4",children:"Kid Category"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Label"}),(0,r.jsx)("input",{...n("kid_label"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. Little Ninjas (1-7 Years)"}),p.kid_label&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.kid_label.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Price (₹)"}),(0,r.jsx)("input",{type:"number",step:"0.01",...n("kid_price",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none"}),p.kid_price&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.kid_price.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),(0,r.jsx)("input",{...n("kid_description"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. ₹ 500 + GST per person"}),p.kid_description&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.kid_description.message})]})]})]}),(0,r.jsxs)("div",{className:"border-l-4 border-amber-500 pl-4",children:[(0,r.jsx)("h4",{className:"font-semibold text-slate-800 mb-4",children:"Spectator Category"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Label"}),(0,r.jsx)("input",{...n("spectator_label"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. Spectators"}),p.spectator_label&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.spectator_label.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Price (₹)"}),(0,r.jsx)("input",{type:"number",step:"0.01",...n("spectator_price",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none"}),p.spectator_price&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.spectator_price.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description"}),(0,r.jsx)("input",{...n("spectator_description"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. ₹ 150 + GST per person"}),p.spectator_description&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.spectator_description.message})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 pt-4 border-t border-slate-200",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"GST Rate (%)"}),(0,r.jsx)("input",{type:"number",step:"0.01",...n("gst_rate",{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. 18"}),p.gst_rate&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.gst_rate.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Duration Label"}),(0,r.jsx)("input",{...n("duration_label"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. 60 Minutes"}),p.duration_label&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.duration_label.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Duration Description"}),(0,r.jsx)("input",{...n("duration_description"),className:"w-full px-3 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. Standard Session"}),p.duration_description&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:p.duration_description.message})]})]})]}),(0,r.jsx)("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-100 flex justify-end",children:(0,r.jsxs)("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-all text-sm font-medium disabled:opacity-50 shadow-sm",children:[s?(0,r.jsx)(o.Z,{className:"w-4 h-4 animate-spin"}):(0,r.jsx)(c.Z,{className:"w-4 h-4"}),"Save Pricing Configuration"]})})]})}function y(e){let{step:t,initialData:s,isSaving:l,onSave:n}=e,{register:d,handleSubmit:p,formState:{errors:m}}=(0,i.cI)({resolver:(0,a.F)(x),defaultValues:{title:(null==s?void 0:s.title)||t.defaultTitle,subtitle:(null==s?void 0:s.subtitle)||t.defaultSubtitle}});return(0,r.jsxs)("form",{onSubmit:p(n),className:"bg-slate-50 rounded-lg border border-slate-200 p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("h4",{className:"font-medium text-slate-700 text-sm flex items-center gap-2",children:[(0,r.jsx)(u,{className:"w-3.5 h-3.5 text-slate-400"}),t.label]}),(0,r.jsxs)("button",{type:"submit",disabled:l,className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-900 text-white rounded-md hover:bg-slate-800 transition-all text-xs font-medium disabled:opacity-50",children:[l?(0,r.jsx)(o.Z,{className:"w-3 h-3 animate-spin"}):(0,r.jsx)(c.Z,{className:"w-3 h-3"}),"Save"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Title"}),(0,r.jsx)("input",{...d("title"),className:"w-full px-3 py-1.5 text-sm border border-slate-200 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. Select Session"}),m.title&&(0,r.jsx)("p",{className:"text-red-500 text-xs mt-1",children:m.title.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Subtitle"}),(0,r.jsx)("input",{...d("subtitle"),className:"w-full px-3 py-1.5 text-sm border border-slate-200 rounded-md focus:ring-2 focus:ring-primary focus:border-transparent outline-none",placeholder:"e.g. Choose your preferred date..."})]})]})]})}},26521:function(e,t,s){"use strict";s.d(t,{O1:function(){return l},WQ:function(){return n},Zy:function(){return i},eh:function(){return a}}),s(54465);var r=s(77537),l=(0,r.$)("d2f4548dead3133e15a8b0b670394dc12a75cb9d"),i=(0,r.$)("cd8d8bf79b06cf02786bd2465db85585965ec43e");(0,r.$)("bc3d676cb82f8725f433894a925035cc113204ee");var a=(0,r.$)("b9c13f289cdb980ccea001f26fe764802dc61a33"),n=(0,r.$)("77480352771fd420f9843870ed2923992699e743")},72690:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(30208),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),a=(e,t)=>{let s=(0,r.forwardRef)((s,a)=>{let{color:n="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:u="",children:p,...m}=s;return(0,r.createElement)("svg",{ref:a,...l,width:o,height:o,stroke:n,strokeWidth:c?24*Number(d)/Number(o):d,className:["lucide","lucide-".concat(i(e)),u].join(" "),...m},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(p)?p:[p]])});return s.displayName="".concat(e),s}},33186:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(72690).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},81558:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(72690).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},23913:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(72690).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])}},function(e){e.O(0,[6176,1844,6234,7115,9069,1744],function(){return e(e.s=55746)}),_N_E=e.O()}]);