(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2947],{49456:function(e,t,s){Promise.resolve().then(s.bind(s,65502))},65502:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var a=s(20984),r=s(30208),i=s(16992),l=s(58518),n=s(69726),o=s(41262),c=s(59829),d=s(3273),m=s(40488),x=s(979),u=s(81701),h=s(16701),p=s(74935),b=s(41591),f=s(90615),g=s(45747);function j(e){let{onSubmit:t,onBack:s,totalParticipants:i,title:l,subtitle:o}=e,[c,d]=(0,r.useState)([{id:"1",name:"",email:"",phone:"",dob:"",isPrimary:!0}]),[m,x]=(0,r.useState)([]),[u,h]=(0,r.useState)(!1),[p,b]=(0,r.useState)(""),j=e=>{c.length>1&&d(c.filter(t=>t.id!==e))},y=(e,t,s)=>{d(c.map(a=>a.id===e?{...a,[t]:s}:a))},v=e=>{x(m.filter(t=>t.id!==e))},N=(e,t,s)=>{x(m.map(a=>a.id===e?{...a,[t]:s}:a))},w=c.length+m.length;return(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-surface-800/50 backdrop-blur-md p-8 rounded-3xl border border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center",children:[(0,a.jsx)(n.Z,{className:"text-primary h-6 w-6"})," "]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl md:text-3xl font-display font-black text-white",children:l||"Participant Details"}),(0,a.jsx)("p",{className:"text-white/50 text-sm",children:o||"Please provide details for the primary contact. You can add more participants now or later. (".concat(w," added)")})]})]}),p&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-xl text-red-200",children:p}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),0===c.length){b("At least one adult is required");return}if(!u){b("Please agree to the waiver terms");return}if(c.find(e=>!e.name||!e.email||!e.phone||!e.dob)){b("Please fill all required fields for adults");return}if(m.find(e=>!e.name||!e.dob||!e.guardian)){b("Please fill all required fields for minors");return}b(""),t({adults:c,minors:m,waiverSigned:u})},className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5 text-primary"}),"Adults (",c.length,")"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{d([...c,{id:Date.now().toString(),name:"",email:"",phone:"",dob:"",isPrimary:!1}])},className:"flex items-center gap-2 px-4 py-2 bg-primary/20 hover:bg-primary/30 text-primary rounded-lg transition-colors",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4"}),"Add Adult"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:c.map((e,t)=>(0,a.jsxs)("div",{className:"bg-background-dark rounded-xl p-6 border border-surface-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h4",{className:"font-bold text-white",children:["Adult ",t+1]}),c.length>1&&(0,a.jsx)("button",{type:"button",onClick:()=>j(e.id),className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:(0,a.jsx)(g.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Full Name *"}),(0,a.jsx)("input",{type:"text",required:!0,value:e.name,onChange:t=>y(e.id,"name",t.target.value),className:"w-full px-4 py-3 bg-surface-800 border border-surface-700 rounded-lg focus:border-primary focus:outline-none text-white placeholder:text-slate-400",placeholder:"John Doe"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Email *"}),(0,a.jsx)("input",{type:"email",required:!0,value:e.email,onChange:t=>y(e.id,"email",t.target.value),className:"w-full px-4 py-3 bg-surface-800 border border-surface-700 rounded-lg focus:border-primary focus:outline-none text-white placeholder:text-slate-400",placeholder:"john@example.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Phone *"}),(0,a.jsx)("input",{type:"tel",required:!0,value:e.phone,onChange:t=>y(e.id,"phone",t.target.value),className:"w-full px-4 py-3 bg-surface-800 border border-surface-700 rounded-lg focus:border-primary focus:outline-none text-white placeholder:text-slate-400",placeholder:"9845471611"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Date of Birth *"}),(0,a.jsx)("input",{type:"date",required:!0,value:e.dob,onChange:t=>y(e.id,"dob",t.target.value),className:"w-full px-4 py-3 bg-surface-800 border border-surface-700 rounded-lg focus:border-primary focus:outline-none text-white"})]})]}),0===t&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm text-white/70 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.isPrimary,onChange:t=>y(e.id,"isPrimary",t.target.checked),className:"w-4 h-4 text-primary border-surface-700 rounded focus:ring-primary"}),"Primary contact (will receive booking confirmation)"]})})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,a.jsx)(n.Z,{className:"w-5 h-5 text-secondary"}),"Minors (Under 18) (",m.length,")"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>{x([...m,{id:Date.now().toString(),name:"",dob:"",guardian:""}])},className:"flex items-center gap-2 px-4 py-2 bg-secondary/20 hover:bg-secondary/30 text-secondary rounded-lg transition-colors",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4"}),"Add Minor"]})]}),m.length>0&&(0,a.jsx)("div",{className:"space-y-4",children:m.map((e,t)=>(0,a.jsxs)("div",{className:"bg-background-dark rounded-xl p-6 border border-surface-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h4",{className:"font-bold text-white",children:["Minor ",t+1]}),(0,a.jsx)("button",{type:"button",onClick:()=>v(e.id),className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:(0,a.jsx)(g.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Full Name *"}),(0,a.jsx)("input",{type:"text",required:!0,value:e.name,onChange:t=>N(e.id,"name",t.target.value),className:"w-full px-4 py-3 bg-surface-800 border border-surface-700 rounded-lg focus:border-primary focus:outline-none text-white placeholder:text-slate-400",placeholder:"Jane Doe"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Date of Birth *"}),(0,a.jsx)("input",{type:"date",required:!0,value:e.dob,onChange:t=>N(e.id,"dob",t.target.value),className:"w-full px-4 py-3 bg-surface-800 border border-surface-700 rounded-lg focus:border-primary focus:outline-none text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-white/70 mb-2",children:"Guardian Name *"}),(0,a.jsx)("input",{type:"text",required:!0,value:e.guardian,onChange:t=>N(e.id,"guardian",t.target.value),className:"w-full px-4 py-3 bg-surface-800 border border-surface-700 rounded-lg focus:border-primary focus:outline-none text-white placeholder:text-slate-400",placeholder:"Parent/Guardian"})]})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"bg-accent/10 border border-accent/30 rounded-xl p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-white mb-4",children:"Waiver Agreement"}),(0,a.jsxs)("div",{className:"bg-background-dark rounded-lg p-4 mb-4 max-h-40 overflow-y-auto text-sm text-white/70",children:[(0,a.jsxs)("p",{className:"mb-2",children:["By checking the box below, I acknowledge that I have read and agree to the"," ",(0,a.jsx)("a",{href:"/waiver-terms",target:"_blank",className:"text-primary hover:underline",children:"liability waiver and terms of service"}),"."]}),(0,a.jsx)("p",{className:"mb-2",children:"I understand that participation in activities at Ninja Inflatable Park involves inherent risks, and I agree to release the facility from liability for any injuries or damages."}),(0,a.jsx)("p",{children:"For all minors listed above, I confirm that I am the legal guardian and have the authority to sign this waiver on their behalf."})]}),(0,a.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:u,onChange:e=>h(e.target.checked),className:"w-5 h-5 text-primary border-surface-700 rounded focus:ring-primary mt-1"}),(0,a.jsx)("span",{className:"text-white",children:"I agree to the waiver terms and conditions for myself and all participants listed above *"})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"flex-1 px-6 py-4 bg-surface-700 hover:bg-surface-600 text-white font-bold rounded-xl transition-colors",children:"Back"}),(0,a.jsx)("button",{type:"submit",className:"flex-1 px-6 py-4 bg-primary hover:bg-primary-light text-black font-bold rounded-xl transition-colors",children:"Continue to Confirmation"})]})]})]})})}var y=s(36917),v=s(81558),N=s(36369),w=s(6291),k=s(66176);function C(e){let{bookingId:t,bookingDetails:s,onNext:i,onSkip:n,onBack:o,title:c,subtitle:d}=e,[x,u]=(0,r.useState)([]),[p,b]=(0,r.useState)(null),[f,g]=(0,r.useState)(!0),[j,C]=(0,r.useState)(!1),[S,P]=(0,r.useState)(!1),[I,_]=(0,r.useState)(""),[Z,q]=(0,r.useState)(""),D=(0,r.useRef)(null);(0,r.useEffect)(()=>{F(),(null==s?void 0:s.birthday_child_name)?_(s.birthday_child_name):(null==s?void 0:s.childName)&&_(s.childName)},[s]);let F=async()=>{try{let e=await fetch("".concat("http://localhost:8000/api/v1","/invitations/templates/"));if(e.ok){let t=(await e.json()).filter(e=>e.is_active);if(u(t),t.length>0){let e=t[0];b(e),q(e.default_message)}}}catch(e){console.error("Failed to load templates",e),k.toast.error("Failed to load templates")}finally{g(!1)}},A=e=>{b(e),(!Z||p&&Z===p.default_message)&&q(e.default_message)},B=(0,r.useCallback)(async()=>{if(D.current){P(!0);try{let e=await (0,y.YM)(D.current,{cacheBust:!0,pixelRatio:2}),s=document.createElement("a");s.download="ninja-invitation-".concat(t,".png"),s.href=e,s.click(),k.toast.success("Invitation downloaded!")}catch(e){console.error("Failed to download invitation",e),k.toast.error("Failed to download invitation")}finally{P(!1)}}},[D,t]),E=async()=>{if(p){C(!0);try{let e=s.id;console.log("[EInvitation] Submitting with booking ID:",e),console.log("[EInvitation] Full booking details:",s);let t=await fetch("".concat("http://localhost:8000/api/v1","/invitations/invitations/create-or-update/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({booking_id:e,template:p.id,child_name:I,custom_message:Z,party_date:s.date,party_time:s.time,venue:"Ninja Inflatable Park"})});if(t.ok)console.log("[EInvitation] Success!"),k.toast.success("Invitation saved successfully!"),i();else{let e=await t.json().catch(()=>({})),s=e.error||"Failed to save invitation details";console.error("[EInvitation] Error:",s,e),k.toast.error(s)}}catch(e){console.error("[EInvitation] Exception:",e),k.toast.error("Error saving invitation")}finally{C(!1)}}};return f?(0,a.jsx)("div",{className:"flex justify-center py-20",children:(0,a.jsx)(v.Z,{className:"animate-spin text-primary w-10 h-10"})}):0===x.length?(0,a.jsxs)("div",{className:"text-center py-10 bg-surface-800/50 rounded-2xl border border-white/10",children:[(0,a.jsx)("p",{className:"text-white/60",children:"No invitation templates available at the moment."}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("button",{onClick:n,className:"text-primary hover:text-white underline",children:"Skip this step"})})]}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl md:text-3xl font-display font-black text-white",children:c||"E-Invitations"}),(0,a.jsx)("p",{className:"text-white/50 text-sm",children:d||"Send custom invitations to your guests"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-display font-bold text-primary mb-2",children:"Preview"}),(0,a.jsx)("div",{ref:D,className:"relative aspect-[4/5] w-full rounded-2xl overflow-hidden shadow-2xl bg-white",children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:p.background_image,alt:"Invitation",className:"absolute inset-0 w-full h-full object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/20"})," ",(0,a.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-center p-8 text-white drop-shadow-md",children:[(0,a.jsxs)("div",{className:"transform -translate-y-8",children:[(0,a.jsx)("h3",{className:"text-3xl font-black uppercase tracking-wider mb-2 font-display",children:"You're Invited!"}),(0,a.jsxs)("p",{className:"text-lg font-bold mb-6",children:["to ",I||"Our","'s Birthday Party"]}),(0,a.jsxs)("div",{className:"space-y-2 bg-black/40 backdrop-blur-sm p-6 rounded-xl border border-white/20",children:[(0,a.jsxs)("p",{className:"font-bold flex items-center justify-center gap-2",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),s.date?new Date(s.date).toLocaleDateString():"Date"]}),(0,a.jsxs)("p",{className:"font-bold",children:["@ ",s.time||"Time"]}),(0,a.jsx)("p",{className:"text-sm opacity-90 mt-2",children:"Ninja Inflatable Park"})]}),Z&&(0,a.jsxs)("div",{className:"mt-6 text-sm font-medium italic max-w-[250px] mx-auto bg-white/10 p-3 rounded-lg",children:['"',Z,'"']})]}),(0,a.jsx)("div",{className:"absolute bottom-6 text-[10px] opacity-70 uppercase tracking-widest",children:"RSVP to Parents"})]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:"Select a template to preview"})}),p&&(0,a.jsxs)("button",{onClick:B,disabled:S,className:"w-full py-3 bg-surface-700 hover:bg-surface-600 text-white font-bold rounded-xl transition-all flex items-center justify-center gap-2",children:[S?(0,a.jsx)(v.Z,{className:"animate-spin w-4 h-4"}):(0,a.jsx)(N.Z,{className:"w-4 h-4"}),"Download as Image"]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-surface-800/50 backdrop-blur-md p-6 rounded-3xl border border-white/10",children:[(0,a.jsxs)("h2",{className:"text-2xl font-display font-bold mb-4 text-primary flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"w-6 h-6"}),"Choose Template"]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-6 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:x.map(e=>(0,a.jsxs)("div",{onClick:()=>A(e),className:"cursor-pointer rounded-xl overflow-hidden border-2 transition-all hover:scale-[1.02] ".concat((null==p?void 0:p.id)===e.id?"border-primary ring-2 ring-primary/20":"border-transparent opacity-70 hover:opacity-100"),children:[(0,a.jsxs)("div",{className:"aspect-video relative bg-slate-800",children:[(0,a.jsx)("img",{src:e.background_image,alt:e.name,className:"w-full h-full object-cover"}),(null==p?void 0:p.id)===e.id&&(0,a.jsx)("div",{className:"absolute inset-0 bg-primary/20 flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"text-white w-8 h-8 drop-shadow-md"})})]}),(0,a.jsx)("div",{className:"p-2 bg-surface-900 text-center text-xs text-white/80 font-bold whitespace-nowrap overflow-hidden text-ellipsis",children:e.name})]},e.id))}),(0,a.jsxs)("h2",{className:"text-xl font-display font-bold mb-4 text-primary flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"w-5 h-5"}),"Customize"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold mb-2 text-white/80",children:"Birthday Child's Name"}),(0,a.jsx)("input",{value:I,onChange:e=>_(e.target.value),className:"w-full px-4 py-3 bg-background-dark border-2 border-surface-700 rounded-xl focus:border-primary focus:outline-none transition-colors text-white",placeholder:"e.g. Leo"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold mb-2 text-white/80",children:"Message"}),(0,a.jsx)("textarea",{rows:3,value:Z,onChange:e=>q(e.target.value),className:"w-full px-4 py-3 bg-background-dark border-2 border-surface-700 rounded-xl focus:border-primary focus:outline-none transition-colors text-white resize-none"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:o,className:"px-6 py-4 bg-surface-700 hover:bg-surface-600 text-white font-bold rounded-xl transition-all",children:"Back"}),(0,a.jsx)("button",{onClick:n,className:"flex-1 px-6 py-4 bg-surface-700 hover:bg-surface-600 text-white font-bold rounded-xl transition-all",children:"Skip"}),(0,a.jsx)("button",{onClick:E,disabled:j||!p,className:"flex-[2] px-6 py-4 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-bold rounded-xl transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:j?(0,a.jsx)(v.Z,{className:"animate-spin"}):(0,a.jsxs)(a.Fragment,{children:["Save & Finish",(0,a.jsx)(l.Z,{size:20})]})})]})]})]})]})}function S(e){let{cmsContent:t=[]}=e,[s,f]=(0,r.useState)(1),[g,y]=(0,r.useState)({name:"",email:"",phone:"",childName:"",childAge:"",date:"",time:"",participants:10,spectators:0,specialRequests:""}),[v,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),[S,P]=(0,r.useState)(null),[I,_]=(0,r.useState)(""),[Z,q]=(0,r.useState)(null),[D,F]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("http://localhost:8000/api/v1","/cms/party-booking-config/1/")),t=await e.json();F(t)}catch(e){console.error("Failed to load party booking config:",e)}})()},[]);let A=(null==D?void 0:D.min_participants)||10,B=(e,s,a)=>{let r=null==t?void 0:t.find(t=>t.section_key===e);return{title:(null==r?void 0:r.title)||s,subtitle:(null==r?void 0:r.subtitle)||a}},E=async e=>{if(e.preventDefault(),g.participants<A){_("Minimum ".concat(A," participants required."));return}_(""),N(!0);try{let e=await (0,b.o)(g);e.success?(q(e.bookingId),P({...g,...e.booking,bookingId:e.bookingId}),f(2)):alert(e.error||"Failed to create booking. Please try again.")}catch(e){console.error("Booking error:",e),alert("An error occurred. Please try again.")}finally{N(!1)}},M=async e=>{if(Z){N(!0);try{(await fetch("".concat("http://localhost:8000/api/v1","/bookings/party-bookings/").concat(Z,"/add_participants/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({participants:{adults:e.adults,minors:e.minors},waiver_signed:e.waiverSigned})})).ok?f(3):alert("Failed to save participants. Please try again.")}catch(e){console.error("Error saving participants:",e),alert("An error occurred. Please try again.")}finally{N(!1)}}},T=()=>{k(!0),f(4)},L=(()=>{let e=(null==D?void 0:D.participant_price)||1500,t=(null==D?void 0:D.spectator_price)||100,s=(null==D?void 0:D.free_spectators)||10,a=(null==D?void 0:D.gst_rate)||18,r=(null==D?void 0:D.deposit_percentage)||50,i=Math.max(0,g.spectators-s),l=g.participants*e+i*t,n=a/100*l,o=l+n;return{subtotal:l,gst:n,total:o,deposit:r/100*o}})();return w&&S?(0,a.jsx)("main",{className:"min-h-screen bg-background py-20",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto px-4",children:(0,a.jsx)(i.$m,{animation:"scale",children:(0,a.jsxs)("div",{className:"bg-surface-800/50 backdrop-blur-md p-10 rounded-3xl border border-primary/30 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-primary/20 flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(l.Z,{className:"w-12 h-12 text-primary"})}),(0,a.jsx)("h1",{className:"text-4xl font-display font-black mb-4 text-primary",children:B("step-4","Party Booking Confirmed!","").title}),(0,a.jsx)("p",{className:"text-xl text-white/80 mb-8",children:B("step-4","","Your party booking has been received. We'll send you a confirmation email shortly.").subtitle}),(0,a.jsxs)("div",{className:"bg-background-dark rounded-2xl p-6 mb-8 text-left",children:[(0,a.jsx)("h3",{className:"font-bold text-lg mb-4 text-white",children:"Booking Summary"}),(0,a.jsxs)("div",{className:"space-y-2 text-white/70",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-white",children:"Booking ID:"})," ",S.bookingId]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-white",children:"Total Amount:"})," ₹",L.total.toFixed(2)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-white",children:"Deposit Required (50%):"})," ₹",L.deposit.toFixed(2)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-white",children:"Date:"})," ",g.date]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-white",children:"Time:"})," ",g.time]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{className:"text-white",children:"Participants:"})," ",g.participants]})]})]}),(0,a.jsx)("div",{className:"bg-accent/10 border border-accent/30 rounded-xl p-4 mb-8",children:(0,a.jsxs)("p",{className:"text-sm text-white/80",children:[(0,a.jsx)("strong",{className:"text-accent",children:"Next Steps:"})," We'll send you payment details via email. Please pay the 50% deposit to confirm your booking."]})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,a.jsx)(i.NA,{size:"lg",variant:"primary",onClick:()=>window.location.href="/tickets/".concat(S.bookingId),children:"View Ticket"}),(0,a.jsx)(i.NA,{size:"lg",variant:"secondary",onClick:()=>window.location.href="/",children:"Back to Home"})]})]})})})}):(0,a.jsx)("main",{className:"min-h-screen bg-background py-20",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto px-4",children:[(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsxs)(i.$m,{animation:"slideUp",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-6xl font-display font-black mb-4",children:(0,a.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary via-secondary to-accent",children:"Book Your Party"})}),(0,a.jsx)("p",{className:"text-xl text-white/70 max-w-2xl mx-auto",children:"Fill in the details below to reserve your party at Ninja Inflatable Park"})]})}),(0,a.jsxs)("div",{className:"max-w-3xl mx-auto mb-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full ".concat(s>=1?"bg-primary text-white shadow-lg shadow-primary/30":"bg-surface-700 text-white/30"," font-bold transition-all"),children:"1"}),(0,a.jsx)("div",{className:"h-1 w-12 ".concat(s>=2?"bg-primary":"bg-surface-700"," transition-all")}),(0,a.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full ".concat(s>=2?"bg-primary text-white shadow-lg shadow-primary/30":"bg-surface-700 text-white/30"," font-bold transition-all"),children:"2"}),(0,a.jsx)("div",{className:"h-1 w-12 ".concat(s>=3?"bg-primary":"bg-surface-700"," transition-all")}),(0,a.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full ".concat(s>=3?"bg-primary text-white shadow-lg shadow-primary/30":"bg-surface-700 text-white/30"," font-bold transition-all"),children:"3"}),(0,a.jsx)("div",{className:"h-1 w-12 ".concat(s>=4?"bg-primary":"bg-surface-700"," transition-all")}),(0,a.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full ".concat(s>=4?"bg-primary text-white shadow-lg shadow-primary/30":"bg-surface-700 text-white/30"," font-bold transition-all"),children:"4"})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-2 text-xs font-semibold px-4 max-w-lg mx-auto",children:[(0,a.jsx)("span",{className:s>=1?"text-primary":"text-white/30",children:"Details"}),(0,a.jsx)("span",{className:s>=2?"text-primary":"text-white/30",children:"Participants"}),(0,a.jsx)("span",{className:s>=3?"text-primary":"text-white/30",children:"E-Invitation"}),(0,a.jsx)("span",{className:s>=4?"text-primary":"text-white/30",children:"Confirm"})]})]}),1===s&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("form",{onSubmit:E,className:"bg-surface-800/50 backdrop-blur-md p-8 rounded-3xl border border-white/10",children:[(0,a.jsx)("h2",{className:"text-2xl font-display font-bold mb-6 text-primary",children:B("step-1","Party Details","").title}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-bold mb-2 text-white/80",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 inline mr-2"}),"Your Name *"]}),(0,a.jsx)("input",{type:"text",required:!0,value:g.name,onChange:e=>y({...g,name:e.target.value}),className:"w-full px-4 py-3 bg-background-dark border-2 border-surface-700 rounded-xl focus:border-primary focus:outline-none transition-colors text-white",placeholder:"John Doe"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-bold mb-2 text-white/80",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 inline mr-2"}),"Email *"]}),(0,a.jsx)("input",{type:"email",required:!0,value:g.email,onChange:e=>y({...g,email:e.target.value}),className:"w-full px-4 py-3 bg-background-dark border-2 border-surface-700 rounded-xl focus:border-primary focus:outline-none transition-colors text-white",placeholder:"john@example.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-bold mb-2 text-white/80",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4 inline mr-2"}),"Phone *"]}),(0,a.jsx)("input",{type:"tel",required:!0,value:g.phone,onChange:e=>y({...g,phone:e.target.value}),className:"w-full px-4 py-3 bg-background-dark border-2 border-surface-700 rounded-xl focus:border-primary focus:outline-none transition-colors text-white",placeholder:"9845471611"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-bold mb-2 text-white/80",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 inline mr-2"}),"Child's Name"]}),(0,a.jsx)("input",{type:"text",value:g.childName,onChange:e=>y({...g,childName:e.target.value}),className:"w-full px-4 py-3 bg-background-dark border-2 border-surface-700 rounded-xl focus:border-primary focus:outline-none transition-colors text-white",placeholder:"Birthday child's name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-bold mb-2 text-white/80",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 inline mr-2"}),"Child's Age"]}),(0,a.jsx)("input",{type:"number",value:g.childAge,onChange:e=>y({...g,childAge:e.target.value}),className:"w-full px-4 py-3 bg-background-dark border-2 border-surface-700 rounded-xl focus:border-primary focus:outline-none transition-colors text-white",placeholder:"Age"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-bold mb-2 text-white/80",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 inline mr-2"}),"Party Date *"]}),(0,a.jsx)("input",{type:"date",required:!0,value:g.date,onChange:e=>y({...g,date:e.target.value}),className:"w-full px-4 py-3 bg-background-dark border-2 border-surface-700 rounded-xl focus:border-primary focus:outline-none transition-colors text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-bold mb-2 text-white/80",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 inline mr-2"}),"Preferred Time *"]}),(0,a.jsxs)("select",{required:!0,value:g.time,onChange:e=>y({...g,time:e.target.value}),className:"w-full px-4 py-3 bg-background-dark border-2 border-surface-700 rounded-xl focus:border-primary focus:outline-none transition-colors text-white",children:[(0,a.jsx)("option",{value:"",children:"Select time"}),((null==D?void 0:D.available_time_slots)||["12:00 PM","2:00 PM","4:00 PM","6:00 PM"]).map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-bold mb-2 text-white/80",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 inline mr-2"}),"Number of Participants * (Min. ",A,")"]}),(0,a.jsx)("input",{type:"number",required:!0,min:"0",value:g.participants,onChange:e=>{let t=parseInt(e.target.value);y({...g,participants:isNaN(t)?0:t}),!isNaN(t)&&t>=A&&_("")},onBlur:()=>{g.participants<A&&_("Minimum ".concat(A," participants required."))},className:"w-full px-4 py-3 bg-background-dark border-2 ".concat(I?"border-red-500":"border-surface-700"," rounded-xl focus:border-primary focus:outline-none transition-colors text-white")}),I&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:I})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-bold mb-2 text-white/80",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 inline mr-2"}),"Number of Spectators"]}),(0,a.jsx)("input",{type:"number",min:"0",value:g.spectators,onChange:e=>y({...g,spectators:parseInt(e.target.value)||0}),className:"w-full px-4 py-3 bg-background-dark border-2 border-surface-700 rounded-xl focus:border-primary focus:outline-none transition-colors text-white"}),(0,a.jsx)("p",{className:"text-xs text-white/50 mt-1",children:"First 10 spectators free"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-bold mb-2 text-white/80",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 inline mr-2"}),"Special Requests"]}),(0,a.jsx)("textarea",{rows:4,value:g.specialRequests,onChange:e=>y({...g,specialRequests:e.target.value}),className:"w-full px-4 py-3 bg-background-dark border-2 border-surface-700 rounded-xl focus:border-primary focus:outline-none transition-colors text-white resize-none",placeholder:"Any special requirements or dietary restrictions..."})]}),(0,a.jsx)("button",{type:"submit",disabled:v||g.participants<A,className:"w-full mt-8 px-8 py-4 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-600 hover:to-purple-700 text-white font-bold rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):(0,a.jsxs)(a.Fragment,{children:["Continue to Participants",(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),g.participants<A&&(0,a.jsxs)("p",{className:"text-center text-sm text-yellow-500 mt-2",children:["⚠️ Please add at least ",A," participants to continue"]})]})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(i.$m,{animation:"slideLeft",children:(0,a.jsxs)("div",{className:"bg-surface-800/50 backdrop-blur-md p-6 rounded-3xl border border-primary/30 sticky top-24",children:[(0,a.jsxs)("h3",{className:"text-xl font-display font-bold mb-4 text-primary flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"w-5 h-5"}),"Price Summary"]}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-white/70",children:["Participants (",g.participants,")"]}),(0,a.jsxs)("span",{className:"text-white font-bold",children:["₹",(1500*g.participants).toLocaleString()]})]}),g.spectators>10&&(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-white/70",children:["Extra Spectators (",g.spectators-10,")"]}),(0,a.jsxs)("span",{className:"text-white font-bold",children:["₹",((g.spectators-10)*100).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-white/70",children:"Subtotal"}),(0,a.jsxs)("span",{className:"text-white font-bold",children:["₹",L.subtotal.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("span",{className:"text-white/70",children:["GST (",(null==D?void 0:D.gst_rate)||18,"%)"]}),(0,a.jsxs)("span",{className:"text-white font-bold",children:["₹",L.gst.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"border-t border-white/10 pt-3 flex justify-between",children:[(0,a.jsx)("span",{className:"font-bold text-white",children:"Total"}),(0,a.jsxs)("span",{className:"font-bold text-xl text-primary",children:["₹",L.total.toFixed(2)]})]}),(0,a.jsx)("div",{className:"bg-accent/10 border border-accent/30 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-white/70",children:[(0,a.jsxs)("strong",{className:"text-accent",children:["Deposit (",(null==D?void 0:D.deposit_percentage)||50,"%):"]})," ₹",L.deposit.toFixed(2)]})})]}),(0,a.jsxs)("div",{className:"bg-background-dark rounded-xl p-4 text-xs text-white/70 space-y-2",children:[(0,a.jsx)("p",{className:"font-bold text-white text-sm mb-2",children:"Includes:"}),((null==D?void 0:D.package_inclusions)||["75 mins play + 1hr party room","Party feast included","Drinks & mini slush","10 free spectators"]).map((e,t)=>(0,a.jsxs)("p",{children:["✓ ",e]},t))]})]})})})]}),2===s&&(0,a.jsx)(i.$m,{animation:"slideUp",children:(0,a.jsx)(j,{onSubmit:M,onBack:()=>f(1),totalParticipants:g.participants,title:B("step-2","Participants","").title,subtitle:B("step-2","","Add details for all ".concat(g.participants," participants")).subtitle})}),3===s&&(0,a.jsx)(C,{bookingId:Z,bookingDetails:S,onNext:T,onSkip:T,onBack:()=>f(2),title:B("step-3","E-Invitations","").title,subtitle:B("step-3","","Send custom invitations to your guests").subtitle})]})})}},41591:function(e,t,s){"use strict";s.d(t,{o:function(){return a}}),s(54465);var a=(0,s(77537).$)("a75e8e23a154c321374e5b8bfcf1feae041685e8")},16992:function(e,t,s){"use strict";s.d(t,{Wq:function(){return a.AttractionCard},NA:function(){return r.BouncyButton},Li:function(){return n.ImageCarousel},$m:function(){return i.ScrollReveal},dv:function(){return l.d},cn:function(){return o.cn}}),s(82743),s(53220),s(20984),s(30208),s(85230),s(48119),s(33901);var a=s(34420),r=s(32807),i=s(15703),l=s(48193);s(97716);var n=s(22238);s(69626),s(5502);var o=s(38747)}},function(e){e.O(0,[6176,1844,6234,3631,3729,647,3597,9056,7115,9069,1744],function(){return e(e.s=49456)}),_N_E=e.O()}]);