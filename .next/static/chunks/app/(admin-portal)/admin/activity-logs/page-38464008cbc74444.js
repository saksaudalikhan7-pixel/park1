(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[483],{69786:function(e,t,s){Promise.resolve().then(s.bind(s,62232))},62232:function(e,t,s){"use strict";s.r(t),s.d(t,{LogViewer:function(){return o}});var n=s(20984),r=s(30208),a=s(84805),l=s(69388);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,s(72690).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var i=s(36240);function o(e){let{logs:t}=e,[s,o]=(0,r.useState)(t),[d,x]=(0,r.useState)(null),[u,p]=(0,r.useState)(""),[h,m]=(0,r.useState)("ALL"),f=s.filter(e=>{let t=e.admin.name.toLowerCase().includes(u.toLowerCase())||e.entity.toLowerCase().includes(u.toLowerCase())||e.action.toLowerCase().includes(u.toLowerCase()),s="ALL"===h||e.action===h;return t&&s}),j=e=>{x(d===e?null:e)},N=e=>{if(!e)return null;try{let t=JSON.parse(e);return(0,n.jsx)("pre",{className:"bg-slate-900 text-slate-50 p-4 rounded-lg text-xs overflow-x-auto font-mono",children:JSON.stringify(t,null,2)})}catch(t){return(0,n.jsx)("p",{className:"text-slate-500",children:e})}},g=e=>{switch(e){case"CREATE":return"bg-green-100 text-green-700";case"UPDATE":return"bg-blue-100 text-blue-700";case"DELETE":return"bg-red-100 text-red-700";case"LOGIN":return"bg-purple-100 text-purple-700";default:return"bg-slate-100 text-slate-700"}};return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,n.jsxs)("div",{className:"relative flex-1",children:[(0,n.jsx)(l.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),(0,n.jsx)("input",{type:"text",placeholder:"Search logs...",value:u,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none"})]}),(0,n.jsxs)("select",{value:h,onChange:e=>m(e.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none bg-white",children:[(0,n.jsx)("option",{value:"ALL",children:"All Actions"}),(0,n.jsx)("option",{value:"CREATE",children:"Create"}),(0,n.jsx)("option",{value:"UPDATE",children:"Update"}),(0,n.jsx)("option",{value:"DELETE",children:"Delete"}),(0,n.jsx)("option",{value:"LOGIN",children:"Login"})]})]}),(0,n.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:(0,n.jsxs)("table",{className:"w-full text-left",children:[(0,n.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Time"}),(0,n.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Admin"}),(0,n.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Action"}),(0,n.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Entity"}),(0,n.jsx)("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Details"})]})}),(0,n.jsxs)("tbody",{className:"divide-y divide-slate-100",children:[f.map(e=>{var t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>j(e.id),children:[(0,n.jsx)("td",{className:"px-6 py-4 text-sm text-slate-600 whitespace-nowrap",children:(0,a.WU)(new Date(e.createdAt),"MMM d, HH:mm:ss")}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("span",{className:"font-medium text-slate-900",children:e.admin.name}),(0,n.jsx)("span",{className:"text-xs text-slate-500",children:e.admin.email})]})}),(0,n.jsx)("td",{className:"px-6 py-4",children:(0,n.jsx)("span",{className:"px-2.5 py-1 rounded-full text-xs font-bold ".concat(g(e.action)),children:e.action})}),(0,n.jsxs)("td",{className:"px-6 py-4 text-sm text-slate-700",children:[e.entity," ",(0,n.jsxs)("span",{className:"text-slate-400",children:["#",null===(t=e.entityId)||void 0===t?void 0:t.slice(-4)]})]}),(0,n.jsx)("td",{className:"px-6 py-4 text-right",children:(0,n.jsx)("button",{className:"text-slate-400 hover:text-primary transition-colors",children:d===e.id?(0,n.jsx)(c,{size:20}):(0,n.jsx)(i.Z,{size:20})})})]},e.id),d===e.id&&(0,n.jsx)("tr",{className:"bg-slate-50",children:(0,n.jsx)("td",{colSpan:5,className:"px-6 py-4",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-bold text-slate-700",children:"IP Address:"}),(0,n.jsx)("span",{className:"ml-2 text-slate-600",children:e.ipAddress||"Unknown"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"font-bold text-slate-700",children:"User Agent:"}),(0,n.jsx)("span",{className:"ml-2 text-slate-600 truncate block",children:e.userAgent||"Unknown"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-bold text-slate-700 mb-2",children:"Change Details"}),N(e.details)]})]})})})]})}),0===f.length&&(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-500",children:"No logs found matching your filters"})})]})]})})]})}},36240:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(72690).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},69388:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(72690).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},69259:function(e,t,s){"use strict";s.d(t,{I7:function(){return i},dP:function(){return r},jE:function(){return n},qk:function(){return c},vh:function(){return l},yJ:function(){return a}});let n=6048e5,r=864e5,a=6e4,l=36e5,c=1e3,i=Symbol.for("constructDateFrom")},50843:function(e,t,s){"use strict";s.d(t,{L:function(){return r}});var n=s(69259);function r(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&n.I7 in e?e[n.I7](t):e instanceof Date?new e.constructor(t):new Date(t)}},21060:function(e,t,s){"use strict";s.d(t,{Q:function(){return r}});var n=s(50843);function r(e,t){return(0,n.L)(t||e,e)}}},function(e){e.O(0,[2671,7115,9069,1744],function(){return e(e.s=69786)}),_N_E=e.O()}]);