(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9456],{2549:function(e,t,r){Promise.resolve().then(r.bind(r,43100))},43100:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var a=r(20984),n=r(30208),c=r(92583),d=r(46665),s=r(40346),i=r(94601),l=r(25115);function o(e){let{params:t}=e,r=(0,d.useRouter)(),[o,u]=(0,n.useState)(!1),[f,b]=(0,n.useState)(""),[m,x]=(0,n.useState)(null),[p,h]=(0,n.useState)(!0);async function g(e){u(!0),b("");try{let a=new Date("".concat(e.get("startDate"),"T").concat(e.get("startTime"))),n=new Date("".concat(e.get("endDate"),"T").concat(e.get("endTime")));if(n<=a){b("End date/time must be after start date/time"),u(!1);return}let d={startDate:a,endDate:n,reason:e.get("reason"),type:e.get("type"),recurring:"on"===e.get("recurring")};await (0,c.NU)(t.id,d),r.push("/admin/booking-blocks"),r.refresh()}catch(e){b("Failed to update booking block")}finally{u(!1)}}if((0,n.useEffect)(()=>{(async function(){try{let e=(await (0,c.qc)()).find(e=>e.id===t.id);e?x(e):b("Booking block not found")}catch(e){b("Failed to load booking block")}finally{h(!1)}})()},[t.id]),p)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!m)return(0,a.jsx)("div",{className:"max-w-2xl mx-auto space-y-6",children:(0,a.jsx)("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg",children:f||"Booking block not found"})});let y=new Date(m.startDate),j=new Date(m.endDate),v=y.toISOString().split("T")[0],N=y.toTimeString().slice(0,5),k=j.toISOString().split("T")[0],$=j.toTimeString().slice(0,5);return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(s.default,{href:"/admin/booking-blocks",className:"p-2 text-slate-500 hover:bg-slate-100 rounded-lg transition-colors",children:(0,a.jsx)(i.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Edit Booking Block"}),(0,a.jsx)("p",{className:"text-slate-500",children:"Update blocked dates or times"})]})]}),(0,a.jsxs)("form",{action:g,className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 space-y-6",children:[f&&(0,a.jsxs)("div",{className:"p-4 bg-red-50 text-red-600 rounded-lg text-sm flex items-center gap-2",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4"}),f]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Date"}),(0,a.jsx)("input",{name:"startDate",type:"date",required:!0,defaultValue:v,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-slate-900"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Start Time"}),(0,a.jsx)("input",{name:"startTime",type:"time",required:!0,defaultValue:N,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-slate-900"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Date"}),(0,a.jsx)("input",{name:"endDate",type:"date",required:!0,defaultValue:k,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-slate-900"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"End Time"}),(0,a.jsx)("input",{name:"endTime",type:"time",required:!0,defaultValue:$,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-slate-900"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Reason"}),(0,a.jsx)("input",{name:"reason",type:"text",required:!0,defaultValue:m.reason,placeholder:"e.g., Maintenance, Private Event",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-slate-900 placeholder:text-slate-400"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Type"}),(0,a.jsxs)("select",{name:"type",required:!0,defaultValue:m.type,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent bg-white text-slate-900",children:[(0,a.jsx)("option",{value:"MAINTENANCE",children:"Maintenance"}),(0,a.jsx)("option",{value:"PRIVATE_EVENT",children:"Private Event"}),(0,a.jsx)("option",{value:"CLOSED",children:"Closed"}),(0,a.jsx)("option",{value:"OTHER",children:"Other"})]})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,a.jsx)("input",{name:"recurring",type:"checkbox",defaultChecked:m.recurring,className:"w-4 h-4 text-primary border-slate-300 rounded focus:ring-primary"}),(0,a.jsx)("span",{className:"text-sm font-medium text-slate-700",children:"Recurring (Weekly)"})]})})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-slate-200 flex justify-end gap-3",children:[(0,a.jsx)(s.default,{href:"/admin/booking-blocks",className:"px-6 py-2 text-slate-600 bg-slate-100 hover:bg-slate-200 font-semibold rounded-lg transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:o?"Updating...":"Update Block"})]})]})]})}},92583:function(e,t,r){"use strict";r.d(t,{D_:function(){return l},FF:function(){return o},NU:function(){return h},OL:function(){return m},Ts:function(){return n},Wp:function(){return c},YB:function(){return b},cz:function(){return v},dh:function(){return i},fb:function(){return p},fm:function(){return y},gE:function(){return g},k$:function(){return f},kt:function(){return j},qc:function(){return x},rK:function(){return d},vC:function(){return s},yl:function(){return N},zI:function(){return u}}),r(54465);var a=r(77537),n=(0,a.$)("022d8cab0ebd51fd7c8a2bab806d3d4081ce9d79"),c=(0,a.$)("72bf0c3115ace700fdbe92609e40ef727f6e2e9a");(0,a.$)("781eabc081078ba07c5dca2961dfd5174f61ad5c");var d=(0,a.$)("e46e056505ba9c21e65755fe78e4d9e136f86362");(0,a.$)("6121403de3ce7671509162f28a52f7b4eaeff528"),(0,a.$)("d92b4b48651b0207f49bc42ae575077cdec3e411"),(0,a.$)("22a10893c5718c944fe761dd831251f93e6775b9"),(0,a.$)("b8bf2dc29fa3626f10e6027121c5728fbfc0abd6"),(0,a.$)("c85fddc17f48c7e5e41cfa5391d110e4e65cbe50"),(0,a.$)("53044355be2ec2dc177c7e7b8b16323e311f0326");var s=(0,a.$)("2c1b655d510f2e8986beb1470bcf39e720b610dc");(0,a.$)("2788aa0878a99d77f68402e20b59c6532ded18d2");var i=(0,a.$)("7d8a09a290318f0dfb4c32d4ead6e3b2326b11ce"),l=(0,a.$)("c80f1a1c040ba7c09b4c27c71fb39116e2823b2a");(0,a.$)("93d6bd79e2305e9fa4e391db0cd1ffb488369a1d");var o=(0,a.$)("8d547064179501ce1ea4649e478fbf49e6473b19");(0,a.$)("e426f40152b2e033cca9effa52511ce12b949d52"),(0,a.$)("37874dfd2fc4b6f0ee28c02a735d876d4ab315a3"),(0,a.$)("d5f1ecc7b99ddd36607b07794a41de699d232d70");var u=(0,a.$)("c00f3eee56aa6d980d28786a353ddb302062907e"),f=(0,a.$)("95a1b74108874a48ee8788e023fb227f64dbda91"),b=(0,a.$)("71442caae190626eedb233beee8e6e8c9c396109");(0,a.$)("1fd1315d0d4a637cca24d5b73b78ca7b795fce82");var m=(0,a.$)("49bd40b69d563dfe5ff617908e276df71ebdbc54");(0,a.$)("345a0d40e1b94dbe0fc6f20521428d743ae8e74b"),(0,a.$)("5d158ae087a84dea77f3a7115cc49824ff3c841b");var x=(0,a.$)("9cf94cfdb457087ba9f825e010e297fa11b3c2c8"),p=(0,a.$)("5391122b95e0d787d35c0b389b61ae3052c8ce42"),h=(0,a.$)("e57dc804520282bb2373ffdcde17e74d9b9c1c84"),g=(0,a.$)("91669db3d44938b80c2051708c62dd895de08312"),y=(0,a.$)("92eec72f6cda029d68ffc5f7747cf878f62592f6"),j=(0,a.$)("bbfa2f626c0ce2d9495a71bb6fbdd62c712f6d1d"),v=(0,a.$)("d0fb7859064b83124c23362f1eaba7c07d92a01a"),N=(0,a.$)("b065149b1f592078e3633999bfc44b4507d24cd2")},72690:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(30208),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),d=(e,t)=>{let r=(0,a.forwardRef)((r,d)=>{let{color:s="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:u="",children:f,...b}=r;return(0,a.createElement)("svg",{ref:d,...n,width:i,height:i,stroke:s,strokeWidth:o?24*Number(l)/Number(i):l,className:["lucide","lucide-".concat(c(e)),u].join(" "),...b},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(f)?f:[f]])});return r.displayName="".concat(e),r}},25115:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(72690).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},94601:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(72690).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},40346:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var a=r(31844),n=r.n(a)},46665:function(e,t,r){"use strict";var a=r(70319);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},77537:function(e,t,r){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return n}});let a=r(54465);function n(e){let{createServerReference:t}=r(92981);return t(e,a.callServer)}}},function(e){e.O(0,[1844,7115,9069,1744],function(){return e(e.s=2549)}),_N_E=e.O()}]);