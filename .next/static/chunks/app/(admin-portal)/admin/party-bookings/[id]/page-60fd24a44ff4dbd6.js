(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3440],{11099:function(e,s,t){Promise.resolve().then(t.bind(t,64962))},64962:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var a=t(20984),l=t(30208),r=t(46665),n=t(40346),i=t(94601),d=t(65068),c=t(41262),o=t(3273),x=t(81701),m=t(9513),h=t(69726),u=t(58518),p=t(3402),b=t(45747);let g="http://localhost:8000/api/v1";function f(e){let{params:s}=e;(0,r.useRouter)();let[t,f]=(0,l.useState)(null),[j,N]=(0,l.useState)([]),[y,v]=(0,l.useState)(!0);(0,l.useEffect)(()=>{!async function(){try{let e=await fetch("".concat(g,"/bookings/party-bookings/").concat(s.id,"/"),{credentials:"include"});if(e.ok){let s=await e.json();f(s);let t=await fetch("".concat(g,"/bookings/waivers/"),{credentials:"include"});if(t.ok){let e=(await t.json()).filter(e=>e.party_booking===s.id);N(e)}}}catch(e){console.error("Error loading party booking:",e)}finally{v(!1)}}()},[s.id]);let k=async e=>{try{let t=await fetch("".concat(g,"/bookings/party-bookings/").concat(s.id,"/"),{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:e})});if(t.ok){let e=await t.json();f(e)}}catch(e){console.error("Error updating status:",e)}},w=e=>{let s=new Date(e),t=new Date,a=t.getFullYear()-s.getFullYear(),l=t.getMonth()-s.getMonth();return(l<0||0===l&&t.getDate()<s.getDate())&&a--,a};return y?(0,a.jsx)("div",{className:"p-8",children:"Loading..."}):t?(0,a.jsxs)("div",{className:"p-8 max-w-5xl mx-auto",children:[(0,a.jsxs)(n.default,{href:"/admin/party-bookings",className:"inline-flex items-center text-slate-500 hover:text-slate-900 mb-6 transition-colors",children:[(0,a.jsx)(i.Z,{size:18,className:"mr-2"})," Back to Party Bookings"]}),(0,a.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-slate-900",children:["Party #",String(t.id).padStart(6,"0")]}),(0,a.jsxs)("p",{className:"text-slate-500 mt-1",children:["Created on ",new Date(t.created_at).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>{window.print()},className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,a.jsx)(d.Z,{size:18})," Print"]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:[(0,a.jsx)(c.Z,{size:18})," Resend Email"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Customer Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Name"}),(0,a.jsx)("p",{className:"text-slate-900 font-medium",children:t.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Email"}),(0,a.jsx)("p",{className:"text-slate-900 font-medium",children:t.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Phone"}),(0,a.jsx)("p",{className:"text-slate-900 font-medium",children:t.phone})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Party Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Date"}),(0,a.jsx)("p",{className:"text-slate-900 font-medium",children:t.date})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Time Slot"}),(0,a.jsx)("p",{className:"text-slate-900 font-medium",children:t.time})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Package"}),(0,a.jsx)("p",{className:"text-slate-900 font-medium",children:t.package_name||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Total Amount"}),(0,a.jsxs)("p",{className:"text-xl font-bold text-green-600",children:["â‚¹",t.amount]})]})]})]}),t.birthday_child_name&&(0,a.jsxs)("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl shadow-sm border border-pink-200 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(o.Z,{size:20,className:"text-pink-600"}),"Birthday Child"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Name"}),(0,a.jsx)("p",{className:"text-slate-900 font-medium",children:t.birthday_child_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs text-slate-400 uppercase font-semibold",children:"Age"}),(0,a.jsxs)("p",{className:"text-slate-900 font-medium",children:[t.birthday_child_age," years old"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,a.jsx)(x.Z,{size:20}),"Guest Summary"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:t.adults||0}),(0,a.jsx)("p",{className:"text-sm text-slate-600 font-medium mt-1",children:"Adults"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-amber-50 rounded-lg border border-amber-200",children:[(0,a.jsx)("p",{className:"text-3xl font-bold text-amber-600",children:t.kids||0}),(0,a.jsx)("p",{className:"text-sm text-slate-600 font-medium mt-1",children:"Kids"})]})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-slate-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-slate-700",children:[(0,a.jsx)("span",{className:"font-bold",children:"Total Guests:"})," ",(t.adults||0)+(t.kids||0)," people"]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-slate-900 mb-2 flex items-center gap-2",children:[(0,a.jsx)(m.Z,{size:20}),"Participant Details & Waivers"]}),(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Individual participant information from signed waivers"}),j&&j.length>0?(0,a.jsx)("div",{className:"space-y-4",children:j.map(e=>(0,a.jsxs)("div",{className:"border border-slate-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(h.Z,{size:20,className:"text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-slate-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:["ADULT"===e.participant_type?"Primary Adult":"Minor",e.is_primary_signer&&" (Primary Signer)"]}),e.email&&(0,a.jsx)("p",{className:"text-sm text-slate-600",children:e.email}),e.phone&&(0,a.jsx)("p",{className:"text-sm text-slate-600",children:e.phone}),e.dob&&(0,a.jsxs)("p",{className:"text-xs text-slate-400",children:["DOB: ",e.dob]})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:e.is_verified?(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700",children:[(0,a.jsx)(u.Z,{size:14}),"Checked In"]}):(0,a.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold bg-orange-100 text-orange-700",children:"Pending Check-in"})})]}),e.adults&&e.adults.length>0&&(0,a.jsxs)("div",{className:"ml-4 mt-3 pl-4 border-l-2 border-purple-200",children:[(0,a.jsxs)("p",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:["Additional Adults (",e.adults.length,")"]}),(0,a.jsx)("div",{className:"space-y-2",children:e.adults.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-purple-400 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-900",children:e.name}),e.email&&(0,a.jsxs)("span",{className:"text-slate-500 ml-2",children:["(",e.email,")"]}),e.dob&&(0,a.jsxs)("span",{className:"text-xs text-slate-400 ml-2",children:["DOB: ",e.dob]})]})]},"adult-".concat(s)))})]}),e.minors&&e.minors.length>0&&(0,a.jsxs)("div",{className:"ml-4 mt-3 pl-4 border-l-2 border-pink-200",children:[(0,a.jsxs)("p",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:["Party Kids (",e.minors.length,")"]}),(0,a.jsx)("div",{className:"space-y-2",children:e.minors.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-pink-400 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-900",children:e.name}),e.dob&&(0,a.jsxs)("span",{className:"text-xs text-slate-500 ml-2",children:["DOB: ",e.dob," (Age ",w(e.dob),")"]})]})]},"minor-".concat(s)))})]}),e.emergency_contact&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-100",children:(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Emergency Contact:"})," ",e.emergency_contact]})})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-8 border-2 border-dashed border-slate-200 rounded-lg",children:[(0,a.jsx)(m.Z,{size:48,className:"mx-auto text-slate-300 mb-3"}),(0,a.jsx)("p",{className:"text-slate-700 font-medium mb-1",children:"No waivers signed yet"}),(0,a.jsxs)("p",{className:"text-sm text-slate-500 mb-3",children:["Expecting ",t.adults||0," adult",1!==(t.adults||0)?"s":""," and ",t.kids||0," kid",1!==(t.kids||0)?"s":""," to sign waivers"]}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Participants will appear here once they complete the waiver signing process"})]})]})]}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-slate-900 mb-4",children:"Status"}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("span",{className:"inline-block px-4 py-2 rounded-full text-sm font-bold \n                ".concat("CONFIRMED"===t.status?"bg-green-100 text-green-700":"PENDING"===t.status?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"),children:t.status||"PENDING"})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("button",{onClick:()=>k("CONFIRMED"),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[(0,a.jsx)(p.Z,{size:18})," Approve Party"]}),(0,a.jsxs)("button",{onClick:()=>k("CANCELLED"),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-50 text-red-600 border border-red-200 rounded-lg hover:bg-red-100 transition-colors font-medium",children:[(0,a.jsx)(b.Z,{size:18})," Cancel Party"]})]})]})})]})]}):(0,a.jsx)("div",{className:"p-8",children:"Party booking not found"})}},72690:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(30208),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,s)=>{let t=(0,a.forwardRef)((t,n)=>{let{color:i="currentColor",size:d=24,strokeWidth:c=2,absoluteStrokeWidth:o,className:x="",children:m,...h}=t;return(0,a.createElement)("svg",{ref:n,...l,width:d,height:d,stroke:i,strokeWidth:o?24*Number(c)/Number(d):c,className:["lucide","lucide-".concat(r(e)),x].join(" "),...h},[...s.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(m)?m:[m]])});return t.displayName="".concat(e),t}},94601:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(72690).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3273:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(72690).Z)("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]])},58518:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(72690).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3402:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(72690).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9513:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(72690).Z)("FileSignature",[["path",{d:"M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5",key:"kd5d3"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z",key:"johvi5"}]])},41262:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(72690).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},65068:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(72690).Z)("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]])},69726:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(72690).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},81701:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(72690).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},45747:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(72690).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},40346:function(e,s,t){"use strict";t.d(s,{default:function(){return l.a}});var a=t(31844),l=t.n(a)},46665:function(e,s,t){"use strict";var a=t(70319);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[1844,7115,9069,1744],function(){return e(e.s=11099)}),_N_E=e.O()}]);