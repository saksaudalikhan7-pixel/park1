(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5092,9468,1482,6308,4495,8145,6495,1642,6094,6063,5100,4974,5897],{52270:function(e,t,s){Promise.resolve().then(s.bind(s,80272))},443:function(e,t,s){"use strict";s.r(t),s.d(t,{PermissionGate:function(){return a}});var n=s(20984),r=s(30208);function a(e){let{entity:t,action:s,children:a,fallback:i}=e,{hasAccess:c,loading:l}=function(e,t){let[s,n]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async function(){try{let s=await fetch("/api/admin/session");if(!s.ok)throw Error("Failed to fetch session");let r=await s.json();if(null==r?void 0:r.permissions){let s=r.permissions.some(s=>s==="".concat(e,":*")||s==="".concat(e,":").concat(t)||"*:*"===s);n(s)}}catch(e){n(!1)}finally{i(!1)}})()},[e,t]),{hasAccess:s,loading:a}}(t,s);return l?null:c?(0,n.jsx)(n.Fragment,{children:a}):i||null}},87422:function(e,t,s){"use strict";s.d(t,{L:function(){return i}});var n=s(20984),r=s(40346),a=s(94601);function i(e){let{href:t="/admin/cms",label:s="Back to Dashboard"}=e;return(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsxs)(r.default,{href:t,className:"inline-flex items-center text-sm text-slate-500 hover:text-slate-900 transition-colors",children:[(0,n.jsx)(a.Z,{className:"w-4 h-4 mr-2"}),s]})})}},80272:function(e,t,s){"use strict";s.r(t),s.d(t,{CollectionList:function(){return x}});var n=s(20984);s(30208);var r=s(40346),a=s(90615),i=s(96187),c=s(14252),l=s(26427),o=s(87422),u=s(443),d=s(46665),h=s(66176),m=s(21066);function x(e){let{title:t,description:s,items:x,schema:f,basePath:p,onDelete:y,titleField:j,subtitleField:v,imageField:w,showBackButton:N=!0,viewOnly:b=!1}=e,g=(0,d.useRouter)(),k=async e=>{confirm("Are you sure you want to delete this item?")&&y&&((await y(e)).success?(h.toast.success("Item deleted"),g.refresh()):h.toast.error("Failed to delete item"))},Z=f.fields.filter(e=>"json_list"!==e.type&&"rich_text"!==e.type).slice(0,5);return(0,n.jsxs)("div",{className:"space-y-6",children:[N&&(0,n.jsx)(o.L,{}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:t}),(0,n.jsx)("p",{className:"text-slate-500",children:s})]}),!b&&(0,n.jsx)(u.PermissionGate,{entity:"cms",action:"write",children:(0,n.jsxs)(r.default,{href:"".concat(p,"/new"),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium",children:[(0,n.jsx)(a.Z,{className:"w-4 h-4"}),"New ",f.name]})})]}),(0,n.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:(0,n.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,n.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,n.jsxs)("tr",{children:[Z.map(e=>(0,n.jsx)("th",{className:"px-6 py-3 font-medium text-slate-500",children:e.label},e.name)),(0,n.jsx)("th",{className:"px-6 py-3 font-medium text-slate-500 text-right",children:"Actions"})]})}),(0,n.jsx)("tbody",{className:"divide-y divide-slate-100",children:0===x.length?(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:Z.length+1,className:"px-6 py-8 text-center text-slate-500",children:"No items found. Create one to get started."})}):x.map(e=>(0,n.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[Z.map(t=>{var s;return(0,n.jsx)("td",{className:"px-6 py-4 text-slate-600",children:"image"===t.type?(0,n.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-lg overflow-hidden",children:(0,n.jsx)("img",{src:(0,m.j)(e[t.name]),alt:"",className:"w-full h-full object-cover"})}):"boolean"===t.type?(0,n.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e[t.name]?"bg-emerald-50 text-emerald-700":"bg-slate-100 text-slate-600"),children:e[t.name]?"Active":"Inactive"}):(0,n.jsx)("span",{className:"truncate max-w-xs block",title:String(e[t.name]),children:"textarea"===t.type&&(null===(s=e[t.name])||void 0===s?void 0:s.length)>50?e[t.name].substring(0,50)+"...":e[t.name]})},t.name)}),(0,n.jsx)("td",{className:"px-6 py-4 text-right",children:(0,n.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,n.jsx)(u.PermissionGate,{entity:"cms",action:"write",children:(0,n.jsx)(r.default,{href:"".concat(p,"/").concat(e.id),className:"p-2 text-slate-400 hover:text-primary hover:bg-primary/5 rounded-lg transition-colors",title:b?"View Details":"Edit",children:b?(0,n.jsx)(i.Z,{className:"w-4 h-4"}):(0,n.jsx)(c.Z,{className:"w-4 h-4"})})}),y&&(0,n.jsx)(u.PermissionGate,{entity:"cms",action:"delete",children:(0,n.jsx)("button",{onClick:()=>k(e.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:(0,n.jsx)(l.Z,{className:"w-4 h-4"})})})]})})]},e.id))})]})})]})}},21066:function(e,t,s){"use strict";s.d(t,{j:function(){return n}});let n=e=>{if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;if(e.startsWith("uploads/")||e.startsWith("media/")||e.startsWith("logos/")){let t=e.startsWith("/")?e.substring(1):e;return"".concat("https://ninjapark.blob.core.windows.net/media","/").concat(t)}let t="http://localhost:8000/api/v1".replace("/api/v1","");return e.startsWith("/")?"".concat(t).concat(e):"".concat(t,"/").concat(e)}},72690:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var n=s(30208),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,n.forwardRef)((s,i)=>{let{color:c="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:u,className:d="",children:h,...m}=s;return(0,n.createElement)("svg",{ref:i,...r,width:l,height:l,stroke:c,strokeWidth:u?24*Number(o)/Number(l):o,className:["lucide","lucide-".concat(a(e)),d].join(" "),...m},[...t.map(e=>{let[t,s]=e;return(0,n.createElement)(t,s)}),...Array.isArray(h)?h:[h]])});return s.displayName="".concat(e),s}},94601:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(72690).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},96187:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(72690).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},14252:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(72690).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},90615:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(72690).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},26427:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,s(72690).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},40346:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var n=s(31844),r=s.n(n)},46665:function(e,t,s){"use strict";var n=s(70319);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[6176,1844,7115,9069,1744],function(){return e(e.s=52270)}),_N_E=e.O()}]);