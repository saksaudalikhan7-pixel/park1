(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8571],{44544:function(e,t,s){Promise.resolve().then(s.bind(s,81102)),Promise.resolve().then(s.bind(s,70385)),Promise.resolve().then(s.bind(s,84434)),Promise.resolve().then(s.t.bind(s,31844,23))},62051:function(e,t,s){"use strict";s.d(t,{BI:function(){return i},Mf:function(){return r},Qb:function(){return n},rb:function(){return c}}),s(54465);var a=s(77537),n=(0,a.$)("2064b4c6e3be7a17858180b3fa31fa966437910a");(0,a.$)("ab58f37edcfce44ba568b4ec07e24a114eb11710");var r=(0,a.$)("11eecf42ba040303f5668e050ce4fc69d5db94e1"),i=(0,a.$)("feb73daa78c397baba55807bb1de1bc5896a0f0a"),c=(0,a.$)("d22aa4e7d4c4eb20729600b7d83a1997f33c8e4d")},41606:function(e,t,s){"use strict";s.d(t,{Jx:function(){return c},Rv:function(){return i},bG:function(){return n},fY:function(){return r}}),s(54465);var a=s(77537),n=(0,a.$)("669c41a7bedd2c1559106b8b0fa5d461b5ab6bca");(0,a.$)("b2ed13316a18f4f2e2e3ca8f6f57cfd8a228db4b");var r=(0,a.$)("ef7c8453f43995f1abfff59feb1d5d646b8cca06"),i=(0,a.$)("18bb8e47feb85cd31d3c2d2b8b4492ce35c7a242"),c=(0,a.$)("a0f53d14d1fef8e232808ed4085a02524d38cef3")},26521:function(e,t,s){"use strict";s.d(t,{O1:function(){return n},WQ:function(){return c},Zy:function(){return r},eh:function(){return i}}),s(54465);var a=s(77537),n=(0,a.$)("d2f4548dead3133e15a8b0b670394dc12a75cb9d"),r=(0,a.$)("cd8d8bf79b06cf02786bd2465db85585965ec43e");(0,a.$)("bc3d676cb82f8725f433894a925035cc113204ee");var i=(0,a.$)("b9c13f289cdb980ccea001f26fe764802dc61a33"),c=(0,a.$)("77480352771fd420f9843870ed2923992699e743")},443:function(e,t,s){"use strict";s.r(t),s.d(t,{PermissionGate:function(){return r}});var a=s(20984),n=s(30208);function r(e){let{entity:t,action:s,children:r,fallback:i}=e,{hasAccess:c,loading:l}=function(e,t){let[s,a]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async function(){try{let s=await fetch("/api/admin/session");if(!s.ok)throw Error("Failed to fetch session");let n=await s.json();if(null==n?void 0:n.permissions){let s=n.permissions.some(s=>s==="".concat(e,":*")||s==="".concat(e,":").concat(t)||"*:*"===s);a(s)}}catch(e){a(!1)}finally{i(!1)}})()},[e,t]),{hasAccess:s,loading:r}}(t,s);return l?null:c?(0,a.jsx)(a.Fragment,{children:r}):i||null}},87422:function(e,t,s){"use strict";s.d(t,{L:function(){return i}});var a=s(20984),n=s(40346),r=s(94601);function i(e){let{href:t="/admin/cms",label:s="Back to Dashboard"}=e;return(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)(n.default,{href:t,className:"inline-flex items-center text-sm text-slate-500 hover:text-slate-900 transition-colors",children:[(0,a.jsx)(r.Z,{className:"w-4 h-4 mr-2"}),s]})})}},80272:function(e,t,s){"use strict";s.r(t),s.d(t,{CollectionList:function(){return x}});var a=s(20984);s(30208);var n=s(40346),r=s(90615),i=s(96187),c=s(14252),l=s(26427),d=s(87422),o=s(443),u=s(46665),m=s(66176),f=s(21066);function x(e){let{title:t,description:s,items:x,schema:h,basePath:b,onDelete:p,titleField:g,subtitleField:j,imageField:v,showBackButton:y=!0,viewOnly:N=!1}=e,w=(0,u.useRouter)(),k=async e=>{confirm("Are you sure you want to delete this item?")&&p&&((await p(e)).success?(m.toast.success("Item deleted"),w.refresh()):m.toast.error("Failed to delete item"))},Z=h.fields.filter(e=>"json_list"!==e.type&&"rich_text"!==e.type).slice(0,5);return(0,a.jsxs)("div",{className:"space-y-6",children:[y&&(0,a.jsx)(d.L,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:t}),(0,a.jsx)("p",{className:"text-slate-500",children:s})]}),!N&&(0,a.jsx)(o.PermissionGate,{entity:"cms",action:"write",children:(0,a.jsxs)(n.default,{href:"".concat(b,"/new"),className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium",children:[(0,a.jsx)(r.Z,{className:"w-4 h-4"}),"New ",h.name]})})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,a.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,a.jsxs)("tr",{children:[Z.map(e=>(0,a.jsx)("th",{className:"px-6 py-3 font-medium text-slate-500",children:e.label},e.name)),(0,a.jsx)("th",{className:"px-6 py-3 font-medium text-slate-500 text-right",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-slate-100",children:0===x.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:Z.length+1,className:"px-6 py-8 text-center text-slate-500",children:"No items found. Create one to get started."})}):x.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[Z.map(t=>{var s;return(0,a.jsx)("td",{className:"px-6 py-4 text-slate-600",children:"image"===t.type?(0,a.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-lg overflow-hidden",children:(0,a.jsx)("img",{src:(0,f.j)(e[t.name]),alt:"",className:"w-full h-full object-cover"})}):"boolean"===t.type?(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(e[t.name]?"bg-emerald-50 text-emerald-700":"bg-slate-100 text-slate-600"),children:e[t.name]?"Active":"Inactive"}):(0,a.jsx)("span",{className:"truncate max-w-xs block",title:String(e[t.name]),children:"textarea"===t.type&&(null===(s=e[t.name])||void 0===s?void 0:s.length)>50?e[t.name].substring(0,50)+"...":e[t.name]})},t.name)}),(0,a.jsx)("td",{className:"px-6 py-4 text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(o.PermissionGate,{entity:"cms",action:"write",children:(0,a.jsx)(n.default,{href:"".concat(b,"/").concat(e.id),className:"p-2 text-slate-400 hover:text-primary hover:bg-primary/5 rounded-lg transition-colors",title:N?"View Details":"Edit",children:N?(0,a.jsx)(i.Z,{className:"w-4 h-4"}):(0,a.jsx)(c.Z,{className:"w-4 h-4"})})}),p&&(0,a.jsx)(o.PermissionGate,{entity:"cms",action:"delete",children:(0,a.jsx)("button",{onClick:()=>k(e.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:(0,a.jsx)(l.Z,{className:"w-4 h-4"})})})]})})]},e.id))})]})})]})}},81102:function(e,t,s){"use strict";s.r(t),s.d(t,{GroupBenefitsManager:function(){return d}});var a=s(20984);s(30208);var n=s(40346),r=s(90615),i=s(80272),c=s(84555),l=s(62051);function d(e){let{items:t}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Group Benefits"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Manage benefit cards displayed on groups page"})]}),(0,a.jsxs)(n.default,{href:"/admin/cms/group-benefits/new",className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium",children:[(0,a.jsx)(r.Z,{className:"w-4 h-4"}),"Add Benefit"]})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)(i.CollectionList,{schema:c.O.group_benefit,items:t,onDelete:l.Qb,basePath:"/admin/cms/group-benefits",titleField:"title",subtitleField:"description",showBackButton:!1})})]})}},70385:function(e,t,s){"use strict";s.r(t),s.d(t,{GroupPackagesManager:function(){return d}});var a=s(20984);s(30208);var n=s(40346),r=s(90615),i=s(80272),c=s(84555),l=s(41606);function d(e){let{items:t}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Group Packages"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Manage group booking packages (School, Corporate, Friends & Family)"})]}),(0,a.jsxs)(n.default,{href:"/admin/cms/group-packages/new",className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors text-sm font-medium",children:[(0,a.jsx)(r.Z,{className:"w-4 h-4"}),"Add Package"]})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)(i.CollectionList,{schema:c.O.group_package,items:t,onDelete:l.bG,basePath:"/admin/cms/group-packages",titleField:"name",subtitleField:"description",showBackButton:!1})})]})}},84434:function(e,t,s){"use strict";s.r(t),s.d(t,{HeroEditor:function(){return o}});var a=s(20984),n=s(30208),r=s(26521),i=s(99004),c=s(66176),l=s(81558),d=s(23913);function o(e){let{section:t,pageSlug:s}=e,[o,u]=(0,n.useState)(t||{page:s,section_key:"hero",title:"ARE YOU A NINJA?",content:"Get ready to jump, climb, bounce, and conquer the ultimate inflatable adventure!",image_url:"/park-slides-action.jpg",active:!0,order:0}),[m,f]=(0,n.useState)(!1),x=(e,t)=>{u(s=>({...s,[e]:t}))},h=async()=>{f(!0);try{let e;if((e=o.id?await (0,r.WQ)(o.id,o):await (0,r.eh)(o)).success)c.toast.success("Hero section saved"),e.item&&u(e.item);else{let t=e.error||"Failed to save hero section";c.toast.error(t),console.error("Save failed:",t)}}catch(t){let e=t.message||"An error occurred";c.toast.error(e),console.error("Save error:",t)}finally{f(!1)}};return(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Hero Section"}),(0,a.jsxs)("span",{className:"bg-blue-100 text-blue-800 text-xs font-bold px-2 py-0.5 rounded uppercase tracking-wider",children:["Page: ",s]})]}),(0,a.jsxs)("p",{className:"text-sm text-slate-500",children:["Edit the main landing banner for the ",(0,a.jsx)("span",{className:"font-medium text-slate-900",children:s})," page"]})]}),(0,a.jsxs)("button",{onClick:h,disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-colors text-sm font-medium disabled:opacity-50",children:[m?(0,a.jsx)(l.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(d.Z,{className:"w-4 h-4"}),"Save Changes"]})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)(i.Q,{field:{name:"title",label:"Main Heading",type:"text",required:!0},value:o.title,onChange:e=>x("title",e)}),(0,a.jsx)(i.Q,{field:{name:"content",label:"Subtitle",type:"textarea",required:!0},value:o.content,onChange:e=>x("content",e)}),(0,a.jsx)(i.Q,{field:{name:"image_url",label:"Background Image",type:"image",required:!0},value:o.image_url,onChange:e=>x("image_url",e)})]})]})}},94601:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},96187:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},14252:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},26427:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},40346:function(e,t,s){"use strict";s.d(t,{default:function(){return n.a}});var a=s(31844),n=s.n(a)}},function(e){e.O(0,[6176,1844,7602,7066,7115,9069,1744],function(){return e(e.s=44544)}),_N_E=e.O()}]);