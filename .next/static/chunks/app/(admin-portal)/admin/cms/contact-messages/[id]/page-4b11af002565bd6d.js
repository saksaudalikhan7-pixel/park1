(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9873,1608],{98578:function(e,t,s){Promise.resolve().then(s.bind(s,93231))},93231:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(20984),r=s(94601),n=s(72690);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,n.Z)("MailX",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h9",key:"1j9vog"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m17 17 4 4",key:"1b3523"}],["path",{d:"m21 17-4 4",key:"uinynz"}]]),l=(0,n.Z)("MailOpen",[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]]);var i=s(26427),d=s(41262),o=s(59829),u=s(40488),m=s(30208),x=s(81608),h=s(40346),f=s(46665),p=s(66176);function g(e){let{params:t}=e,s=(0,f.useRouter)(),[n,g]=(0,m.useState)(null),[b,y]=(0,m.useState)(!0),[j,N]=(0,m.useState)(null);async function v(){try{let e=await (0,x.UU)(t.id);g(e),e.is_read||(await (0,x.RC)(t.id),g({...e,is_read:!0})),N(null)}catch(e){console.error("Failed to load message",e),N(e.message||"Failed to load message")}finally{y(!1)}}(0,m.useEffect)(()=>{v()},[t.id]);let k=async()=>{let e=n.is_read?x.Lx:x.RC;(await e(t.id)).success?(g({...n,is_read:!n.is_read}),p.toast.success(n.is_read?"Marked as unread":"Marked as read")):p.toast.error("Failed to update status")},w=async()=>{confirm("Are you sure you want to delete this message?")&&((await (0,x.u9)(t.id)).success?(p.toast.success("Message deleted"),s.push("/admin/cms/contact-messages")):p.toast.error("Failed to delete message"))};return b?(0,a.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):j||!n?(0,a.jsxs)("div",{className:"p-8 text-center text-red-500 bg-red-50 rounded-lg border border-red-200",children:[(0,a.jsx)("h3",{className:"font-bold",children:"Error Loading Message"}),(0,a.jsx)("p",{children:j||"Message not found"}),(0,a.jsx)(h.default,{href:"/admin/cms/contact-messages",className:"mt-4 inline-block px-4 py-2 bg-red-100 hover:bg-red-200 rounded-lg transition-colors",children:"Back to Messages"})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(h.default,{href:"/admin/cms/contact-messages",className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-2",children:[(0,a.jsx)(r.Z,{className:"w-4 h-4"}),"Back to Messages"]}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Contact Message"}),(0,a.jsxs)("p",{className:"text-slate-500",children:["Message from ",n.name]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg transition-colors",children:n.is_read?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{className:"w-4 h-4"}),"Mark as Unread"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l,{className:"w-4 h-4"}),"Mark as Read"]})}),(0,a.jsxs)("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg transition-colors",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4"}),"Delete"]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-slate-200 p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[n.is_read?(0,a.jsx)("span",{className:"px-3 py-1 bg-slate-100 text-slate-700 text-sm font-medium rounded-full",children:"Read"}):(0,a.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 text-sm font-medium rounded-full",children:"New"}),(0,a.jsx)("span",{className:"text-sm text-slate-500",children:new Date(n.created_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pb-6 border-b border-slate-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-500 uppercase",children:"Name"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-900 mt-1",children:n.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-500 uppercase",children:"Email"}),(0,a.jsxs)("a",{href:"mailto:".concat(n.email),className:"flex items-center gap-2 text-lg text-primary hover:underline mt-1",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),n.email]})]}),n.phone&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-500 uppercase",children:"Phone"}),(0,a.jsxs)("a",{href:"tel:".concat(n.phone),className:"flex items-center gap-2 text-lg text-primary hover:underline mt-1",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),n.phone]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-500 uppercase",children:"Received"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-lg text-slate-700 mt-1",children:[(0,a.jsx)(u.Z,{className:"w-4 h-4"}),new Date(n.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-medium text-slate-500 uppercase",children:"Message"}),(0,a.jsx)("div",{className:"mt-2 p-4 bg-slate-50 rounded-lg border border-slate-200",children:(0,a.jsx)("p",{className:"text-slate-700 whitespace-pre-wrap",children:n.message})})]}),(0,a.jsx)("div",{className:"pt-4 border-t border-slate-200",children:(0,a.jsxs)("a",{href:"mailto:".concat(n.email,"?subject=Re: Your message to Ninja Inflatable Park&body=Hi ").concat(n.name,",%0D%0A%0D%0A"),className:"inline-flex items-center gap-2 px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors font-medium",children:[(0,a.jsx)(d.Z,{className:"w-5 h-5"}),"Reply via Email"]})})]})]})}},81608:function(e,t,s){"use strict";s.d(t,{Lx:function(){return r},RC:function(){return d},UU:function(){return l},createContactMessage:function(){return n},u9:function(){return i},vz:function(){return c}}),s(54465);var a=s(77537),r=(0,a.$)("34f5c040e9d2496c74246f746100448b1d151a55"),n=(0,a.$)("dcf5b84dccb031158efe8cb5ac7b880fdabfecf0"),c=(0,a.$)("cdfaa77035321405422d8d79889a814c8f3f6e32"),l=(0,a.$)("0f6f4bb524fa89116fba4a84edae651284c3bbc7"),i=(0,a.$)("7bf3f31e33c37909e2bde0fd64dc267f5517d403"),d=(0,a.$)("2cc8f36a9f72fb360d83df3e477a4444dc3ba74c")},72690:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var a=s(30208),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(e,t)=>{let s=(0,a.forwardRef)((s,c)=>{let{color:l="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:u="",children:m,...x}=s;return(0,a.createElement)("svg",{ref:c,...r,width:i,height:i,stroke:l,strokeWidth:o?24*Number(d)/Number(i):d,className:["lucide","lucide-".concat(n(e)),u].join(" "),...x},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s}},94601:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},40488:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},41262:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},59829:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},26427:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(72690).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},40346:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var a=s(31844),r=s.n(a)},46665:function(e,t,s){"use strict";var a=s(70319);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},77537:function(e,t,s){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return r}});let a=s(54465);function r(e){let{createServerReference:t}=s(92981);return t(e,a.callServer)}}},function(e){e.O(0,[6176,1844,7115,9069,1744],function(){return e(e.s=98578)}),_N_E=e.O()}]);