(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2240],{97313:function(e,t,a){Promise.resolve().then(a.bind(a,51011))},51011:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var s=a(20984),n=a(30208),r=a(46665),i=a(40346),c=a(92583);a(66176);var d=a(94601),l=a(58518),o=a(69726),f=a(41262),u=a(59829),m=a(40488),x=a(979),b=a(81701);function p(e){var t,a,p,h,g,y;let{params:v}=e;(0,r.useRouter)();let[j,N]=(0,n.useState)(null),[k,_]=(0,n.useState)([]),[w,$]=(0,n.useState)([]),[Z,S]=(0,n.useState)(!0),[A,D]=(0,n.useState)(!1),[L,P]=(0,n.useState)([]);async function z(){try{var e,t;let a=await (0,c.YB)();console.log("All waivers loaded:",a.length),_(a);let s=a.find(e=>e.id===parseInt(v.id)||e.id===v.id);if(!s)throw console.error("Waiver not found. Available IDs:",a.map(e=>e.id)),console.error("Looking for ID:",v.id),Error("Waiver not found");console.log("Found primary waiver:",s),N(s);let n="object"==typeof s.booking?null===(e=s.booking)||void 0===e?void 0:e.id:s.booking,r="object"==typeof s.party_booking?null===(t=s.party_booking)||void 0===t?void 0:t.id:s.party_booking;console.log("Booking ID:",n||r,"Type:",n?"SESSION":"PARTY");let i=[];i.push({id:s.id,name:s.name,email:s.email,phone:s.phone,dob:s.dob,participant_type:"ADULT",is_primary_signer:!0,signed_at:s.signed_at}),s.adults&&Array.isArray(s.adults)&&s.adults.forEach((e,t)=>{i.push({id:"adult_".concat(t),name:e.name,email:e.email||s.email,phone:e.phone||s.phone,dob:e.dob,participant_type:"ADULT",is_primary_signer:!1,signed_at:s.signed_at})}),s.minors&&Array.isArray(s.minors)&&s.minors.forEach((e,t)=>{i.push({id:"minor_".concat(t),name:e.name,dob:e.dob,participant_type:"MINOR",is_primary_signer:!1,signed_at:s.signed_at,emergency_contact:s.name})}),console.log("Total participants:",i.length),console.log("Adults:",i.filter(e=>"ADULT"===e.participant_type).length),console.log("Minors:",i.filter(e=>"MINOR"===e.participant_type).length),$(i)}catch(e){console.error("Failed to load waiver:",e)}finally{S(!1)}}if((0,n.useEffect)(()=>{z()},[v.id]),Z)return(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neon-blue"})});if(!j)return(0,s.jsx)("div",{className:"p-8",children:(0,s.jsx)("div",{className:"text-center text-slate-500",children:"Waiver not found"})});let M=w.filter(e=>"ADULT"===e.participant_type),B=w.filter(e=>"MINOR"===e.participant_type);return(0,s.jsxs)("div",{className:"p-8 max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)(i.default,{href:"/admin/waivers",className:"inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-4",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4"}),"Back to Waivers"]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Booking Participants"}),(0,s.jsxs)("p",{className:"text-slate-500 mt-1",children:[j.booking_reference||"Walk-in"," â€¢ ",w.length," Total Participant",1!==w.length?"s":""]})]}),(0,s.jsxs)("span",{className:"px-3 py-1.5 rounded-full text-sm font-bold border bg-emerald-100 text-emerald-700 border-emerald-200 inline-flex items-center gap-2",children:[(0,s.jsx)(l.Z,{size:16}),"All Signed"]})]})]}),(j.booking||j.party_booking)&&(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Booking Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-medium text-slate-500 uppercase",children:"Type"}),(0,s.jsx)("p",{className:"text-sm font-medium text-slate-900 mt-1",children:j.booking?"Session Booking":"Party Booking"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-medium text-slate-500 uppercase",children:"Date"}),(0,s.jsx)("p",{className:"text-sm font-medium text-slate-900 mt-1",children:"object"==typeof j.booking?null===(t=j.booking)||void 0===t?void 0:t.date:"object"==typeof j.party_booking?null===(a=j.party_booking)||void 0===a?void 0:a.date:"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-medium text-slate-500 uppercase",children:"Time"}),(0,s.jsx)("p",{className:"text-sm font-medium text-slate-900 mt-1",children:"object"==typeof j.booking?null===(p=j.booking)||void 0===p?void 0:p.time:"object"==typeof j.party_booking?null===(h=j.party_booking)||void 0===h?void 0:h.time:"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-medium text-slate-500 uppercase",children:"Booking ID"}),(0,s.jsxs)("p",{className:"text-sm font-medium text-slate-900 mt-1",children:["#","object"==typeof j.booking?null===(g=j.booking)||void 0===g?void 0:g.id:"object"==typeof j.party_booking?null===(y=j.party_booking)||void 0===y?void 0:y.id:j.booking||j.party_booking]})]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"w-5 h-5 text-blue-600"}),"Adults (",M.length,")"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-5",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 font-bold text-lg",children:(e.name||"U").charAt(0)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold text-slate-900",children:e.name}),e.is_primary_signer&&(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-700 font-medium",children:"Primary Signer"})]})]}),(0,s.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-bold bg-emerald-100 text-emerald-700",children:[(0,s.jsx)(l.Z,{size:12,className:"inline mr-1"}),"Signed"]})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[e.email&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-600",children:[(0,s.jsx)(f.Z,{size:14,className:"text-slate-400"}),e.email]}),e.phone&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-600",children:[(0,s.jsx)(u.Z,{size:14,className:"text-slate-400"}),e.phone]}),e.dob&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-600",children:[(0,s.jsx)(m.Z,{size:14,className:"text-slate-400"}),"DOB: ",new Date(e.dob).toLocaleDateString()]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-500 text-xs pt-2 border-t border-slate-100",children:[(0,s.jsx)(x.Z,{size:12}),"Signed: ",new Date(e.signed_at).toLocaleString()]})]})]},e.id))})]}),B.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center gap-2",children:[(0,s.jsx)(b.Z,{className:"w-5 h-5 text-purple-600"}),"Minors (",B.length,")"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:B.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-5",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center text-purple-700 font-bold text-lg",children:(e.name||"U").charAt(0)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold text-slate-900",children:e.name}),(0,s.jsx)("span",{className:"text-xs text-purple-600",children:"Minor"})]})]}),(0,s.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-bold bg-emerald-100 text-emerald-700",children:[(0,s.jsx)(l.Z,{size:12,className:"inline mr-1"}),"Signed"]})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[e.dob&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-600",children:[(0,s.jsx)(m.Z,{size:14,className:"text-slate-400"}),"DOB: ",new Date(e.dob).toLocaleDateString()]}),e.emergency_contact&&(0,s.jsxs)("div",{className:"text-slate-600",children:[(0,s.jsx)("span",{className:"text-xs text-slate-500",children:"Guardian:"})," ",e.emergency_contact]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-slate-500 text-xs pt-2 border-t border-slate-100",children:[(0,s.jsx)(x.Z,{size:12}),"Signed: ",new Date(e.signed_at).toLocaleString()]})]})]},e.id))})]}),0===w.length&&(0,s.jsx)("div",{className:"text-center text-slate-500 py-12",children:"No participants found for this booking"})]})}},92583:function(e,t,a){"use strict";a.d(t,{D_:function(){return l},FF:function(){return o},NU:function(){return h},OL:function(){return x},Ts:function(){return n},Wp:function(){return r},YB:function(){return m},cz:function(){return j},dh:function(){return d},fb:function(){return p},fm:function(){return y},gE:function(){return g},k$:function(){return u},kt:function(){return v},qc:function(){return b},rK:function(){return i},vC:function(){return c},yl:function(){return N},zI:function(){return f}}),a(54465);var s=a(77537),n=(0,s.$)("022d8cab0ebd51fd7c8a2bab806d3d4081ce9d79"),r=(0,s.$)("72bf0c3115ace700fdbe92609e40ef727f6e2e9a");(0,s.$)("781eabc081078ba07c5dca2961dfd5174f61ad5c");var i=(0,s.$)("e46e056505ba9c21e65755fe78e4d9e136f86362");(0,s.$)("6121403de3ce7671509162f28a52f7b4eaeff528"),(0,s.$)("d92b4b48651b0207f49bc42ae575077cdec3e411"),(0,s.$)("22a10893c5718c944fe761dd831251f93e6775b9"),(0,s.$)("b8bf2dc29fa3626f10e6027121c5728fbfc0abd6"),(0,s.$)("c85fddc17f48c7e5e41cfa5391d110e4e65cbe50"),(0,s.$)("53044355be2ec2dc177c7e7b8b16323e311f0326");var c=(0,s.$)("2c1b655d510f2e8986beb1470bcf39e720b610dc");(0,s.$)("2788aa0878a99d77f68402e20b59c6532ded18d2");var d=(0,s.$)("7d8a09a290318f0dfb4c32d4ead6e3b2326b11ce"),l=(0,s.$)("c80f1a1c040ba7c09b4c27c71fb39116e2823b2a");(0,s.$)("93d6bd79e2305e9fa4e391db0cd1ffb488369a1d");var o=(0,s.$)("8d547064179501ce1ea4649e478fbf49e6473b19");(0,s.$)("e426f40152b2e033cca9effa52511ce12b949d52"),(0,s.$)("37874dfd2fc4b6f0ee28c02a735d876d4ab315a3"),(0,s.$)("d5f1ecc7b99ddd36607b07794a41de699d232d70");var f=(0,s.$)("c00f3eee56aa6d980d28786a353ddb302062907e"),u=(0,s.$)("95a1b74108874a48ee8788e023fb227f64dbda91"),m=(0,s.$)("71442caae190626eedb233beee8e6e8c9c396109");(0,s.$)("1fd1315d0d4a637cca24d5b73b78ca7b795fce82");var x=(0,s.$)("49bd40b69d563dfe5ff617908e276df71ebdbc54");(0,s.$)("345a0d40e1b94dbe0fc6f20521428d743ae8e74b"),(0,s.$)("5d158ae087a84dea77f3a7115cc49824ff3c841b");var b=(0,s.$)("9cf94cfdb457087ba9f825e010e297fa11b3c2c8"),p=(0,s.$)("5391122b95e0d787d35c0b389b61ae3052c8ce42"),h=(0,s.$)("e57dc804520282bb2373ffdcde17e74d9b9c1c84"),g=(0,s.$)("91669db3d44938b80c2051708c62dd895de08312"),y=(0,s.$)("92eec72f6cda029d68ffc5f7747cf878f62592f6"),v=(0,s.$)("bbfa2f626c0ce2d9495a71bb6fbdd62c712f6d1d"),j=(0,s.$)("d0fb7859064b83124c23362f1eaba7c07d92a01a"),N=(0,s.$)("b065149b1f592078e3633999bfc44b4507d24cd2")},72690:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var s=a(30208),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let a=(0,s.forwardRef)((a,i)=>{let{color:c="currentColor",size:d=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:f="",children:u,...m}=a;return(0,s.createElement)("svg",{ref:i,...n,width:d,height:d,stroke:c,strokeWidth:o?24*Number(l)/Number(d):l,className:["lucide","lucide-".concat(r(e)),f].join(" "),...m},[...t.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(u)?u:[u]])});return a.displayName="".concat(e),a}},94601:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},40488:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},58518:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},979:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},41262:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},59829:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},69726:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},81701:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(72690).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},40346:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var s=a(31844),n=a.n(s)},46665:function(e,t,a){"use strict";var s=a(70319);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},77537:function(e,t,a){"use strict";Object.defineProperty(t,"$",{enumerable:!0,get:function(){return n}});let s=a(54465);function n(e){let{createServerReference:t}=a(92981);return t(e,s.callServer)}}},function(e){e.O(0,[6176,1844,7115,9069,1744],function(){return e(e.s=97313)}),_N_E=e.O()}]);